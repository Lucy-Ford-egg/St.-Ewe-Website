import React, { useState } from "react"
import { graphql } from "gatsby"
import { styled } from "@mui/material/styles"
import Image from "gatsby-plugin-sanity-image"
import { urlFor } from "../utils/imageHelpers"
import { RenderPortableText } from "../components/utils/renderPortableText"
import { ModuleContainer } from "./moduleContainer"
import { contrastBrandPalette } from "../utils/colours"
import { Typography } from "@mui/material"

const Wrapper = styled("div")(
  ({ theme, borderDirection, backgroundColour, joiningColour, alignment }) => ({
    gridColumn: "1/25",
    display: "grid",
    gridTemplateColumns: "subgrid",
    //gridTemplateRows: "repeat(6, 1fr)",
    alignItems: "center",
    [theme.breakpoints.up("sm")]: {
      gridRowGap: "var(--ms4)",
    },
    [theme.breakpoints.up("lg")]: {
      gridRowGap: "unset",
    },
  }),
)

const Tile = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    gridColumn: "2/24",
    display: "grid",
    gridTemplateColumns: "subgrid",
    gridRow: "1/4",
    alignItems: "center",
    borderRadius: "var(--ms3)",
    backgroundColor: testimonialColour?.value,
    overflow: "hidden",
    [theme.breakpoints.up("sm")]: {
      gridRowGap: "var(--ms4)",
    },
    [theme.breakpoints.up("lg")]: {
      gridRowGap: "unset",
      gridColumn: "3/23",
    },
  }),
)

const Quote = styled("blockquote")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "grid",
    gridTemplateColumns: "subgrid",
    gridColumn: "2/24",
    gridRow: "1/4",
    zIndex: 1,
    color: contrastBrandPalette[testimonialColour?.label]?.contrastText,
    padding: 0,
    margin: 0,
    justifyContent: "center",
    textAlign: "center",
    flexDirection: "column",
    "& .mark": {
      justifyContent: "center",
      textAlign: "center",
      paddingBottom: "var(--ms1)",
      gridColumn: "10/11",
      paddingTop: "var(--ms4)",
      [theme.breakpoints.up("lg")]: {
        gridColumn: "1/17",
      },
    },
    p: {
      textAlign: "center",
      fontSize: "var(--ms3)",
      lineHeight: "var(--ms3)",
      fontFamily: "var(--font-primary)",
      [theme.breakpoints.up("lg")]: {
        fontSize: "var(--ms5)",
        lineHeight: "var(--ms5)",
      },
    },
    "& .quoteText": {
      gridColumn: "1/21",
    },
    [theme.breakpoints.up("sm")]: {
      gridColumn: "2/22",
    },
    [theme.breakpoints.up("lg")]: {
      gridColumn: "3/19",
    },
  }),
)

const TextureLayer = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "grid",
    gridColumn: "1/24",
    gridRow: "1/4",
    zIndex: 0,
    mixBlendMode: "multiply",
    opacity: 0.2,
    svg: {
      height: "100%",
      [theme.breakpoints.up("lg")]: {
        width: "100%",
        height: "fit-content",
      },
    },
    height: "100%",
    [theme.breakpoints.up("sm")]: {},
    [theme.breakpoints.up("lg")]: {
      gridColumn: "1/25",
      height: "auto",
    },
  }),
)

const Cite = styled("cite")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "grid",
    gridColumn: "1/25",
    gridRow: "auto",
    zIndex: 1,
    fontFamily: "var(--font-secondary)",
    fontSize: "var(--ms0)",
    fontWeight: "700",
    textAlign: "left",
    fontStyle: "unset",

    [theme.breakpoints.up("sm")]: {},
    [theme.breakpoints.up("lg")]: {
      fontSize: "var(--ms1)",
    },
  }),
)

const Position = styled(Typography)(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "grid",
    gridColumn: "1/25",
    gridRow: "auto",
    zIndex: 1,
    fontSize: "var(--ms-1) !important",
    fontWeight: 400,
    fontFamily: "var(--font-secondary)",
    [theme.breakpoints.up("sm")]: {},
    [theme.breakpoints.up("lg")]: {
      fontSize: "var(--ms0) !important",
    },
  }),
)

const LeftAsset = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    gridColumn: "1/4",
    gridRow: "3/4",
    zIndex: 2,
    display: "none",
    justifyContent: "center",
    [theme.breakpoints.up("sm")]: {
      display: "flex",
      alignSelf: "end",
    },
    [theme.breakpoints.up("lg")]: {},
  }),
)

const RightAsset = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    gridColumn: "19/25",
    gridRow: "1/2",
    zIndex: 2,
    display: "flex",
    alignSelf: "start",
    justifyContent: "end",
    [theme.breakpoints.up("sm")]: {
      gridColumn: "22/25",
    },
    [theme.breakpoints.up("lg")]: {
      gridColumn: "22/25",
      justifyContent: "center",
    },
  }),
)

const Footer = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    columnGap: "var(--ms1)",
    paddingTop: "var(--ms2)",
    gridColumn: "1/21",
    paddingBottom: "var(--ms4)",
    [theme.breakpoints.up("sm")]: {},
    [theme.breakpoints.up("lg")]: {
      gridColumn: "6/12",
    },
  }),
)

const Avatar = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "flex",
    alignItems: "center",
    [theme.breakpoints.up("sm")]: {},
    [theme.breakpoints.up("lg")]: {},
  }),
)

const Details = styled("div")(
  ({
    theme,
    borderDirection,
    testimonialColour,
    joiningColour,
    alignment,
  }) => ({
    display: "flex",
    flexDirection: "column",
    alignItems: "start",
    textAlign: "left",
    justifyContent: "start",
    [theme.breakpoints.up("sm")]: {},
    [theme.breakpoints.up("lg")]: {},
  }),
)

export const TestimonialSection = props => {
  const {
    testimonialTile,
    backgroundColour,
    testimonialColour,
    _type,
    leftAsset,
    rightAsset,
  } = props

  return (
    <ModuleContainer {...props}>
      <Wrapper>
        <LeftAsset>
          <Image
            // pass asset, hotspot, and crop fields
            crop={leftAsset?.crop}
            hotspot={leftAsset?.hotspot}
            asset={
              (leftAsset?._ref && urlFor(leftAsset).width(250).url()) ||
              leftAsset?.asset
            }
            width={250}
            height={250}
            style={{
              maxWidth: "100%",
              height: "auto",
            }}
          />
        </LeftAsset>
        <Tile testimonialColour={testimonialColour}>
          <TextureLayer>
            <svg
              viewBox="0 0 1260 579"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M778.049 265.268C647.61 261.338 478.527 258.204 349.31 252.496C335.165 253.563 317.824 253.75 298.885 253.563C289.424 253.462 279.508 253.309 269.499 253.021C259.426 252.75 249.15 252.479 238.859 252.208L234.739 247.787H200.183C186.226 245.958 226.734 248.008 202.031 245.45L188.857 247.584C187.542 246.771 165.408 245.704 150.84 244.772C136.271 243.858 129.285 242.977 158.343 242.435C113.621 240.86 68.8041 239.623 23.9251 238.793C9.04376 238.454 4.67334 239.301 -0.0886841 239.996C-4.85071 240.69 -9.98871 241.266 -26.4365 240.572C-33.1096 239.267 -14.5941 239.86 -17.2571 238.302C-62.3554 236.354 -90.207 238.014 -115.834 240.081C-122.194 240.639 -128.413 241.181 -134.757 241.74C-137.561 241.978 -140.381 242.215 -143.263 242.469C-143.968 242.503 -144.688 242.553 -145.409 242.587C-146.177 242.621 -146.944 242.655 -147.727 242.689C-149.356 242.74 -151.017 242.808 -152.693 242.858C-156.421 242.96 -160.243 243.062 -164.191 243.18C-168.342 243.316 -172.932 243.502 -178.007 243.909C-183.035 244.281 -188.706 244.925 -195.066 246.144C-201.394 247.381 -208.584 249.21 -216.26 252.632L-268 275.617L-218.5 299.974C-216.73 300.855 -214.866 301.769 -212.939 302.701C-211.012 303.632 -209.007 304.666 -206.955 305.479C-204.903 306.342 -202.788 307.24 -200.627 308.138C-198.449 309.07 -196.288 309.781 -194.048 310.628L-198.559 309.358C-200.063 308.951 -201.598 308.375 -203.117 307.867C-193.954 310.95 -181.171 314.727 -170.848 316.929C-168.232 317.573 -165.836 317.996 -163.611 318.47C-161.403 318.911 -159.382 319.351 -157.737 319.605C-154.416 320.164 -152.317 320.469 -152.176 320.333C-157.847 317.081 -162.389 316.658 -169.297 315.913C-171.036 315.675 -172.932 315.421 -175.015 315.083C-177.098 314.744 -179.385 314.354 -181.97 313.66C-184.539 312.982 -187.327 312.271 -190.46 311.136C-192.027 310.56 -193.672 309.933 -195.379 309.222C-197.086 308.511 -198.872 307.799 -200.752 306.817C-200.172 306.546 -199.107 306.597 -197.713 306.766C-196.319 306.918 -194.596 307.274 -192.653 307.731C-188.878 308.68 -184.132 309.866 -179.542 311C-175.031 312.085 -170.723 312.948 -167.574 313.457C-164.473 313.863 -162.546 313.863 -162.797 313.101C-157.204 314.744 -152.192 315.743 -147.461 316.658C-142.777 317.437 -138.36 318.115 -134.115 318.538C-125.562 319.52 -117.479 319.995 -108.049 321.13C-100.17 322.705 -91.4915 324.077 -82.782 325.415C-80.636 325.754 -78.4742 326.092 -76.2969 326.431C-74.2135 326.77 -72.1144 327.126 -70.0154 327.464C-65.4883 328.244 -60.9456 329.023 -56.4655 329.802C-38.4669 332.935 -21.4082 335.933 -9.91037 339.152C5.69156 340.439 23.6588 339.643 56.7111 344.487C79.738 350.805 50.5236 346.3 82.5263 352.16L88.1656 350.873C114.529 355.074 110.268 355.04 109.093 355.87C137.384 360.053 133.233 356.496 168.447 362.831L148.208 362.035C174.665 364.965 185.27 366.846 221.847 372.029C220.782 373.096 206.12 371.012 195.437 369.2C214.688 374.959 229.758 372.554 240.441 374.315C237.543 373.028 212.26 369.166 225.09 368.827C243.167 371.639 264.329 371.249 276.845 375.349L256.591 374.705C275.718 376.449 280.934 376.416 286.761 376.839C292.604 377.229 299.058 378.076 320.769 381.209C318.388 381.074 319.437 381.717 318.388 382.039C346.459 382.937 382.064 389.729 422.855 394.726L415.007 394.37C431.611 395.59 440.979 394.777 449.845 395.945C426.771 392.066 433.241 392.202 431.486 389.966C446.555 393.455 458.476 393.828 472.856 394.235C487.236 394.675 504.06 395.149 528.983 398.842C527.98 399.926 515.652 400.061 502.055 397.317C484.323 398.96 481.675 401.67 450.754 399.875C469.943 401.23 492.468 403.212 487.487 404.177L493.988 401.586C505.533 402.737 514.587 403.923 523.296 404.855C528.575 403.33 500.551 398.977 527.494 400.502C557.727 402.771 542.908 405.617 547.843 404.668C589.416 407.954 565.559 403.076 605.269 408.513C601.228 408.361 593.38 408.073 589.98 407.395C618.349 411.85 660.393 414.34 668.194 419.117C663.792 419.557 662.821 420.658 651.996 419.184L652.545 418.625C620.589 418.168 678.971 420.624 668.57 423.097C666.706 420.777 706.964 425.367 725.087 427.501L719.667 424.52C750.48 423.876 749.493 424.926 748.302 426.84C747.127 428.704 745.718 431.448 775.778 433.7C814.094 435.513 761.476 431.736 785.067 432.142C797.912 433.531 806.668 434.886 816.944 436.241C827.22 437.613 839.031 438.816 857.97 439.815C868.356 441.61 889.706 444.439 891.226 447.302C902.786 447.573 920.221 449.097 936.465 450.232C952.709 451.35 967.732 452.18 974.405 451.181C935.243 446.641 934.836 451.756 889.252 445.032C893.638 444.473 898.024 443.914 902.41 443.321C934.178 445.777 975.094 446.726 996.993 448.826C992.576 448.064 990.665 447.285 993.516 446.878C1016.26 447.488 1030.91 447.268 1045.55 447.115C1049.2 447.115 1052.84 447.082 1056.6 447.082C1060.37 447.082 1064.15 447.183 1068.44 447.098C1072.67 447.098 1077.13 447.098 1081.97 447.082C1086.74 447.031 1091.87 447.082 1097.48 447.082C1100.46 448.233 1095.4 448.86 1087.11 449.114C1085.04 449.165 1082.79 449.233 1080.39 449.284C1077.95 449.284 1075.39 449.284 1072.79 449.284C1070.19 449.284 1067.55 449.267 1064.93 449.25C1062.41 449.182 1059.92 449.114 1057.54 449.046C1064.59 449.876 1070.4 450.08 1075.43 450.266C1080.52 450.469 1084.76 450.368 1089.6 450.266C1094.43 450.198 1099.71 450.012 1106.58 449.826C1110.01 449.741 1113.84 449.656 1118.21 449.554C1122.54 449.47 1127.43 449.385 1132.98 449.284C1134.2 450.3 1126.77 450.52 1118.32 450.723C1109.9 450.96 1100.4 451.045 1097.84 452.163C1114.49 451.672 1130.86 450.859 1147.11 450.08C1146.92 450.215 1147.11 450.351 1147.12 450.503C1150.54 448.606 1159.84 448.352 1171.84 448.352C1177.87 448.335 1184.5 448.47 1191.52 448.437C1195.01 448.437 1198.56 448.437 1202.15 448.386C1205.76 448.318 1209.39 448.216 1212.99 448.081C1242.11 447.962 1260.21 448.183 1274.59 448.216C1278.17 448.216 1281.54 448.216 1284.75 448.216C1287.96 448.267 1291.03 448.318 1294.06 448.352C1295.58 448.369 1297.11 448.352 1298.61 448.403C1300.12 448.47 1301.62 448.555 1303.14 448.623C1306.2 448.792 1309.33 448.962 1312.6 449.148L1304.03 424.08C1303.31 425.35 1300.89 427.264 1297.05 429.025C1293.16 429.855 1290.17 430.025 1288.82 429.889C1287.46 429.754 1287.59 429.246 1289.14 428.399C1296.14 427.484 1298.04 426.536 1299.23 425.875C1299.7 425.502 1299.93 425.164 1300.21 424.791C1300.54 424.418 1300.7 423.978 1301.07 423.487C1299.07 424.808 1294.93 426.231 1290.55 427.027C1286.15 427.857 1281.51 428.179 1277.84 428.229C1270.39 428.246 1266.88 427.281 1272.49 425.841C1270.48 426.18 1268.73 426.451 1267.22 426.688C1265.72 426.925 1264.48 427.111 1263.48 427.264C1261.47 427.586 1260.42 427.806 1260.03 427.958C1259.28 428.263 1261.29 428.331 1263.68 428.331C1268.44 428.331 1274.88 428.06 1264.61 429.771C1248.9 431.278 1232.29 431.702 1215.4 431.837C1218.43 432.718 1224.36 433.158 1226.31 433.616C1228.22 434.056 1226.23 434.615 1213.04 435.462C1201.85 435.835 1193.58 435.835 1183.82 435.987C1182.57 436.021 1181.3 436.055 1180 436.072C1178.64 436.123 1177.25 436.19 1175.84 436.241C1173.36 436.377 1170.78 436.512 1168.03 436.648C1162.52 436.953 1156.33 437.274 1148.97 437.681C1153.15 436.546 1139.45 435.496 1161.55 434.276C1154.42 434.361 1145.31 434.734 1136.92 435.326C1128.54 435.902 1120.9 436.732 1116.69 437.85C1132.82 437.799 1119.68 438.9 1105.5 440.222C1091.33 441.458 1076.13 442.898 1088.24 443.711C1077.48 443.711 1066.72 443.677 1055.95 443.575C1063.29 443.27 1064.04 442.085 1074.88 441.898C1065.56 439.612 1048.62 443.863 1037.38 444.626C1026 444.575 996.539 445.489 994.048 444.49C983.898 445.591 958.991 445.879 954.26 444.592C939.128 445.591 953.117 446.421 948.762 447.437C931.578 447.895 914.394 448.267 897.21 448.623C894.406 447.166 889.957 443.05 897.695 442.288C878.24 444.185 890.881 446.946 861.416 447.454C869.828 445.794 860.069 445.455 851.266 444.981C842.462 444.507 834.598 443.931 846.801 441.949C829.883 440.12 781.762 440.967 755.257 441.983C738.857 444.507 783.97 442.983 782.31 445.405C745.06 446.285 725.291 448.284 707.982 450.029C690.688 451.74 675.854 453.213 648.456 452.705L662.68 453.332C628.484 454.805 632.337 454.45 612.396 456.516C621.873 453.552 573.564 448.538 517.344 449.097C512.597 450.588 548.798 451.977 539.619 454.331L502.259 454.738C499.564 454.5 503.669 454.009 508.478 453.637C474.987 454.653 446.18 449.69 436.499 453.162L402.491 448.792L415.947 450.672C411.294 452.129 373.747 452.57 365.961 453.145C327.614 454.805 313.689 453.535 292.698 451.706C299.355 452.908 315.991 455.669 285.837 456.194C286.15 451.35 222.552 454.636 223.429 452.146C211.227 452.282 189.594 450.91 188.184 452.925L190.205 449.91C187.401 454.111 142.96 454.263 108.952 455.432C116.55 449.622 71.5768 456.364 56.3665 451.435C53.2022 453.416 38.1016 454.077 23.0479 454.636C7.99426 455.229 -7.01242 455.805 -9.95737 457.498C-36.1799 458.227 -33.6736 454.653 -40.378 453.552L-52.5337 455.297C-55.463 454.975 -60.1467 454.754 -66.1932 454.636L-204.245 451.756L-71.1902 486.971C-68.5899 487.665 -65.7546 488.411 -62.747 489.207C-59.7237 489.935 -56.5282 490.646 -53.1916 491.409C-49.8707 492.086 -46.4088 492.798 -42.8687 493.458C-39.3441 494.068 -35.7413 494.779 -32.1384 495.338C-17.6957 497.727 -3.09628 499.607 8.26053 501.216L35.7832 500.454L45.4169 502.977C49.8344 502.503 71.5768 504.586 58.3872 501.741C63.0709 502.334 67.7703 503.045 72.501 503.74C73.4722 501.978 78.6415 502.368 87.2727 503.469C95.9039 504.57 107.997 506.382 122.737 507.364C129.363 508.77 127.421 509.448 120.983 509.16C135.504 510.972 128.925 512.107 136.647 514.309C126.512 512.158 190.205 513.953 151.294 507.618C148.866 505.772 171.924 507.466 186.101 509.753L194.215 514.072L211.963 512.564C234.441 514.614 243.637 517.815 261.713 520.17C243.167 518.34 219.341 522.016 267.353 527.199C242.054 524.878 229.35 525.319 216.176 524.54C226.077 525.793 230.995 526.674 215.284 526.335C252.957 529.536 228.16 525.742 265.332 529.401C262.794 532.145 273.023 534.245 305.324 538.717L281.388 533.94C282.594 533.703 284.271 533.618 286.166 533.635C277.018 532.331 274.48 531.603 272.71 530.248C280.041 531.061 316.352 531.162 322.257 533.568C303.945 529.316 320.393 530.112 338.47 531.298C356.562 532.45 376.3 533.974 364.567 531.383C368.938 530.959 394.925 533.314 397.384 535.058C365.961 534.279 420.286 540.733 414.944 542.291C426.63 542.545 390.821 537.751 406.626 538.124C425.173 539.665 438.504 542.799 448.717 544.662L440.901 544.51L469.363 548.439C474.266 547.389 441.966 543.409 468.47 545.018C475.316 546.305 501.867 547.796 500.896 548.931C488.051 549.879 496.839 553.402 474.25 551.929C483.602 552.64 503.152 554.232 517.406 554.961C531.661 555.689 540.621 555.655 528.779 553.25L551.07 555.198C537.206 552.809 498.39 547.203 543.143 550.574L542.673 551.133L574.034 551.404L587.411 554.012C587.098 553.216 592.095 552.911 603.624 553.86C605.081 554.419 608.527 555.011 611.472 555.587C614.433 556.146 616.892 556.705 616.391 557.264C649.96 559.398 647.391 557.705 651.84 557.129C670.59 558.094 677.561 559.161 668.648 560.364C675.055 560.872 682.668 561.397 690.751 561.939C698.834 562.447 707.402 562.989 715.704 563.531C732.309 564.666 747.895 565.716 756.604 566.953C791.129 567.359 749.571 565.97 769.841 564.954C784.519 568.257 812.934 570.103 844.718 571.018C860.602 571.509 877.347 571.678 893.607 571.899C909.882 572 925.688 572.102 939.77 572.204C924.638 567.359 955.169 571.966 965.586 567.986C953.399 569.307 1018.89 572.204 969.611 572.881L999.687 572.746C1020.21 575.473 949.921 574.101 980.921 577.878C997.808 577.963 1011.8 576.895 1026.51 575.828C1033.87 575.32 1041.4 574.863 1049.59 574.66C1057.77 574.439 1066.61 574.355 1076.54 574.744C1063.24 578.064 1107.12 573.508 1097.26 577.099C1089.02 578.369 1077.98 578.013 1066.7 578.352L1073.69 578.945C1082.94 579.013 1090.21 579.03 1095.93 578.928C1101.65 578.809 1105.81 578.64 1108.85 578.42C1114.93 577.996 1116.5 577.404 1116.95 576.709C1117.88 575.354 1114.38 573.643 1133.73 572.288C1178.73 570.933 1169.32 574.101 1172.01 575.557C1179.05 576.015 1201.73 574.812 1213.54 573.626C1186.13 576.438 1162.63 573.067 1175.19 570.679C1185.17 572.221 1201.89 571.848 1217.61 570.747C1233.34 569.578 1248.06 567.8 1254.14 566.834C1221.92 566.123 1210.83 566.512 1200.18 566.699C1189.54 566.902 1179.36 567.224 1149.14 565.699C1140.9 567.021 1142.38 570.425 1106.13 569.493C1128.83 567.562 1104.55 567.664 1098.12 567.224C1105.13 569.104 1073.01 568.189 1062 569.019C1051.94 567.495 1083.65 564.565 1047.03 563.87L1040.1 568.342C1025.75 567.63 1046.21 565.073 1015.68 566.055C1032.16 563.768 1010.76 562.413 1052.04 561.82C1039.74 560.821 1028.87 560.448 1018.89 560.448C1008.91 560.448 999.797 560.736 991.025 561.262C973.481 562.329 957.283 563.853 938.11 564.344C942.042 564.141 942.496 563.548 946.349 563.311C938.11 564.378 923.276 563.955 911.966 563.921C886.746 562.278 932.032 562.396 925.516 560.991C911.887 560.669 898.259 560.448 884.631 560.025C883.801 559.856 883.613 559.771 883.629 559.669C872.851 559.94 862.591 560.025 858.894 558.789C871.097 557.738 875.969 556.4 884.208 555.486C869.859 556.045 855.495 556.705 841.131 557.146C845.893 555.858 805.917 553.233 836.463 553.335C815.315 552.793 794.168 551.996 773.021 551.251L767.899 547.965C752.704 547.728 752.218 548.304 770.327 549.591C759.534 548.66 735.41 548.863 715.485 548.338C695.56 547.897 679.817 546.915 685.816 544.29C673.332 544.137 662.868 543.883 653.218 543.561C643.585 543.189 634.797 542.748 625.68 542.257C621.122 542.003 616.485 541.749 611.629 541.461C606.773 541.139 601.682 540.817 596.231 540.461C585.312 539.818 572.906 539.073 557.852 538.175C604.36 539.174 505.36 530.333 554.438 533.043C525.959 529.35 519.584 532.128 496.995 530.654C476.005 527.521 485.842 525.404 508.838 526.301L481.801 525.319L482.38 524.76L458.821 524.353C434.353 520.508 454.027 520.881 428.573 518.086L422.636 520.22L405.577 517.019C411.89 518.865 396.726 517.934 378.164 516.359L378.65 515.8L356.077 514.055C378.571 514.665 335.619 511.43 346.161 510.549C326.972 508.415 326.518 508.482 291.758 505.264L297.554 507.72C252.033 504.451 296.113 504.858 259.489 500.708L261.431 503.045C209.331 493.746 171.642 494.881 133.186 487.919C155.57 490.155 150.385 487.022 149.821 487.581C132.998 485.938 110.926 483.295 88.8235 480.771C83.2626 480.145 77.686 479.518 72.172 478.908C69.3837 478.586 66.5954 478.299 63.8384 478.044C61.0658 477.773 58.3402 477.536 55.6615 477.333C44.9156 476.486 34.8277 475.978 26.0242 475.775C19.8993 473.641 16.1241 472.285 9.48236 470.829C2.87192 469.338 -6.71481 467.898 -23.8205 464.884C-36.3209 463.207 -43.3386 462.072 -48.3356 461.394C-53.3483 460.768 -56.3089 460.598 -60.554 460.581C-60.9142 460.48 -61.2745 460.395 -61.7288 460.259L-65.128 482.296C-52.3614 482.516 -34.4724 481.906 -19.6068 481.551C-4.74106 481.229 7.10135 481.11 7.74359 482.177C13.5708 480.28 30.5512 482.093 44.4771 480.365L47.4376 481.229L45.1976 479.162C90.2489 483.126 121.108 475.368 166.582 479.095L158.766 479.721L177.877 478.739C180.9 479.637 173.146 480.263 172.269 481.483C201.859 481.364 231.449 481.347 261.04 481.364L243.574 479.857C262.246 479.552 274.825 477.469 296.207 478.722C260.68 481.957 325.719 478.756 331.436 481.212L312.388 482.059C329.734 481.912 337.697 481.133 336.277 479.721C370.065 478.942 359.429 483.736 390.602 481.449L368.421 481.347C361.873 480.128 377.835 478.383 392.654 478.451C396.178 478.773 406.673 479.721 395.348 479.975C421.946 479.196 461.907 480.314 473.624 479.484C488.051 480.162 483.289 481.652 475.488 482.194C532.413 480.416 501.194 482.635 558.26 480.856L557.304 482.059L576.885 480.636L604.83 483.194L594.805 481.635C613.509 481.415 625.226 480.568 647.062 481.229L638.259 483.007C664.669 482.448 679.958 483.143 694.917 483.6C709.877 484.091 724.508 484.328 749.602 482.872C753.049 483.16 745.232 483.803 741.222 484.108C787.777 480.822 776.451 486.937 823.304 482.821C820.438 483.465 825.56 484.108 823.759 484.65L845.078 483.109L843.496 485.531L860.805 481.669L874.01 483.854L882.266 482.516C905.199 486.615 937.342 482.279 968.656 484.718L963.173 481.872C1002.4 477.469 1047.37 476.588 1094.47 475.538C1106.25 475.317 1118.14 474.996 1130.13 474.657C1142.11 474.352 1154.11 473.895 1166.14 473.386L1175.16 472.98L1179.67 472.76L1183.21 472.658C1188.46 472.557 1194.49 472.556 1200.41 472.506C1212.4 472.404 1224.69 472.15 1237.02 471.371L1235.36 473.81C1248.99 472.421 1262.77 470.761 1276.95 468.085C1282.82 467.831 1284.99 467.848 1284.96 468.153C1284.91 468.474 1282.67 469.05 1279.94 469.609C1274.48 470.778 1267.13 471.811 1270.81 472.065C1281.04 470.744 1287.92 469.287 1292.82 468C1297.72 466.713 1300.67 465.646 1303.38 464.579C1304.71 464.07 1306.04 463.512 1307.54 462.885C1308.3 462.58 1309.08 462.258 1309.94 461.919C1310.83 461.547 1311.8 461.14 1312.87 460.683C1313.95 460.226 1315.09 459.785 1316.47 459.125C1317.15 458.82 1317.87 458.498 1318.62 458.142C1319.37 457.803 1320.14 457.448 1321.01 456.99C1322.75 456.076 1324.57 455.212 1326.76 453.823C1327.3 453.501 1327.84 453.162 1328.41 452.807C1328.97 452.468 1329.54 452.112 1330.15 451.655C1331.35 450.791 1332.59 449.859 1333.88 448.86L1368.71 421.708L1322.35 415.136C1318.74 414.628 1314.06 413.917 1308.48 413.053C1286.76 408.734 1307.86 410.969 1322.91 413.222L1372.94 420.675L1335.57 450.249C1334.6 451.011 1333.62 451.756 1332.69 452.468C1331.75 453.179 1330.81 453.857 1329.98 454.365C1328.3 455.415 1326.67 456.482 1325.39 457.177C1326.12 456.821 1326.95 456.313 1327.77 455.839C1328.57 455.347 1329.4 454.856 1330.24 454.348C1331.06 453.874 1331.98 453.179 1332.9 452.536C1333.83 451.858 1334.77 451.164 1335.76 450.401L1374.34 420.59L1322.97 413.019C1319.97 412.579 1316.88 412.121 1313.73 411.664C1312.16 411.427 1310.58 411.207 1308.97 410.969C1308.17 410.851 1307.37 410.732 1306.56 410.614C1305.76 410.529 1304.94 410.444 1304.14 410.36C1300.9 410.004 1297.63 409.648 1294.31 409.293C1292.65 409.123 1290.97 408.903 1289.31 408.784C1287.65 408.666 1285.97 408.53 1284.3 408.412C1280.94 408.158 1277.58 407.904 1274.19 407.65C1270.83 407.48 1267.46 407.328 1264.09 407.158C1257.34 406.769 1250.7 406.684 1244.15 406.498C1218 405.956 1194.26 406.549 1178.69 406.345C1177.97 406.684 1175.96 407.158 1177.67 407.26C1146.9 409.174 1106.9 410.089 1074.85 409.97C1075.25 409.428 1077.4 409.123 1080.45 408.937C1083.57 408.7 1087.61 408.564 1091.65 408.429C1088.74 408.395 1085.54 408.361 1082.26 408.327C1078.93 408.293 1075.72 408.141 1072.45 408.09C1066.07 408.056 1059.35 407.785 1054.28 408.175C1058.43 407.633 1062.66 407.141 1066.73 406.566C1041.73 405.346 992.403 404.922 986.937 402.077C989.928 403.161 988.503 404.889 966.51 403.584C960.589 401.365 945.598 400.891 927.662 400.298C918.702 399.977 909.005 399.689 899.371 399.164C889.738 398.605 880.135 397.842 871.379 396.708C875.687 396.149 901.58 397.893 894.281 397.3C885.493 396.165 877.081 395.725 868.904 395.573C860.727 395.386 852.785 395.454 844.937 395.403L849.887 394.319C822.396 392.829 794.889 391.05 767.382 389.238C761.555 386.833 742.162 385.19 724.962 383.733C707.762 382.31 692.771 381.192 695.779 380.125C666.455 377.008 720.153 384.241 682.981 380.87C673.332 378.363 649.318 378.126 651.26 375.924L655.255 376.06L629.314 373.502L646.028 372.909C623.612 371.063 606.883 371.571 605.441 373.248C594.977 371.453 582.195 369.979 570.854 368.573C559.481 367.15 549.566 365.762 544.913 364.169L552.887 364.491C493.048 358.935 455.578 347.333 408.287 345.724C404.872 344.978 405.405 344.453 412.657 345.334L376.112 340.778L385.15 340.1C364.833 338.542 344.501 336.95 324.184 335.273L325.202 334.189C285.398 328.667 222.897 320.977 171.595 314.049L179.38 314.558C123.098 308.46 125.682 305.716 84.5314 300.99C86.0508 300.905 87.4293 300.99 88.9488 301.142L52.1997 295.655L60.5646 295.739C46.6701 294.96 27.434 291.132 13.7118 288.117C-0.010376 285.068 -8.2186 282.815 -0.0886841 285.204C-15.7063 283.933 -42.5554 281.054 -47.4584 281.765C-52.5337 280.952 -56.4812 280.309 -59.5671 279.817C-62.9037 279.292 -65.363 278.852 -67.0234 278.547C-70.36 277.937 -71.1119 277.615 -71.3468 277.311C-71.7698 276.735 -70.3756 276.193 -83.0483 274.075C-97.726 272.178 -106.06 271.653 -115.458 270.654C-117.839 270.434 -120.189 270.112 -122.758 269.79C-125.343 269.485 -128.021 269.062 -130.982 268.57C-136.903 267.605 -143.733 266.199 -151.878 263.963L-150.782 262.981C-156.687 261.592 -161.637 260.423 -166.431 258.967C-167.637 258.611 -168.859 258.238 -170.112 257.866C-171.334 257.476 -172.462 257.019 -173.715 256.578C-176.331 255.731 -178.524 254.596 -181.265 253.445L-183.521 301.176C-183.302 301.058 -182.659 300.584 -180.043 300.092C-180.545 300.296 -181.171 300.448 -181.469 300.668C-181.829 300.871 -182.283 301.024 -182.44 301.227C-181.422 300.567 -179.104 299.94 -176.472 299.635C-173.84 299.296 -170.895 299.195 -167.888 299.262C-161.919 299.347 -155.889 299.991 -149.497 300.431C-147.947 300.55 -146.177 300.651 -144.532 300.736C-142.824 300.821 -140.647 300.871 -139.018 300.905C-136.026 300.939 -132.987 300.905 -129.807 300.77C-123.479 300.516 -116.492 299.821 -108.237 298.5C-90.5203 299.364 -56.8571 298.72 -58.5019 301.142C-5.85324 299.889 35.188 299.923 87.586 300.346C95.8255 304.513 98.8644 300.38 130.507 303.615L128.267 301.43C165.345 302.464 205.086 305.208 245.798 308.07C256.043 308.782 266.35 309.51 276.673 310.221C286.98 310.865 297.319 311.475 307.658 312.051C328.351 313.186 349.059 314.117 369.58 314.676L371.741 316.878L388.315 315.167C476.6 319.453 590.842 324.517 661.254 327.159C684.391 326.905 719.558 325.669 756.166 327.786L752.297 327.939C816.177 329.09 883.629 330.7 953.164 334.511C948.793 335.239 955.639 336.12 947.822 336.408C964.489 334.68 988.644 337.797 1003.56 338.423L986.169 336.188C1006.08 334.917 1034.35 337.898 1044.33 339.829L1052.2 339.558L1059.95 339.338L1075.49 338.898C1077.51 339.203 1080.67 339.677 1081.08 340.032L1086.69 339.169L1103.1 342.726C1110.86 342.539 1152.48 343.759 1165.75 341.557C1168.71 342.641 1198.27 344.369 1175.35 344.081C1194.6 344.945 1213.98 345.605 1233.4 346.096C1252.87 346.486 1272.39 346.74 1292.04 346.537L1273.68 345.758C1272.52 344.741 1280.77 343.759 1291.57 343.166C1296.95 342.878 1303.02 342.522 1308.86 342.37C1314.7 342.234 1320.34 342.082 1324.95 342.133C1301.01 344.792 1323.1 345.232 1333.56 346.333C1337.57 345.893 1338.68 345.537 1338.25 345.317C1337.81 345.097 1335.79 344.978 1333.56 344.826C1329.08 344.538 1323.66 344.284 1327.86 343.539C1330.95 343.183 1334.55 342.878 1338.48 342.472C1342.43 342.065 1346.7 341.659 1351.11 341.252C1355.51 340.896 1360.07 340.422 1364.55 339.982C1365.67 339.88 1366.79 339.761 1367.9 339.66H1368.09L1368.13 339.626H1368.23L1368.42 339.575L1368.81 339.524C1369.32 339.474 1369.87 339.355 1370.37 339.372L1370.84 339.49C1371.02 339.541 1371.08 339.558 1371.39 339.626C1371.66 339.694 1371.91 339.745 1372.16 339.812L1372.54 339.897H1372.63L1372.94 339.982L1373.66 340.117C1375.59 340.473 1377.34 340.846 1379.26 341.083C1381.18 341.32 1382.92 341.574 1384.77 341.709C1386.63 341.828 1388.36 341.947 1390.06 341.997C1391.82 341.997 1393.46 341.997 1394.98 341.963C1396.52 341.93 1398.02 341.777 1399.34 341.692C1400.67 341.591 1401.84 341.506 1402.93 341.337C1394.78 342.946 1386.92 343.031 1379.96 342.438C1387.07 343.234 1394.51 343.285 1401.86 342.302C1409.22 341.303 1416.3 339.203 1422.35 336.459C1425.45 335.103 1428.13 333.545 1430.76 331.953C1432.01 331.14 1433.17 330.327 1434.35 329.48C1434.93 329.057 1435.54 328.633 1436.07 328.21L1437.62 326.922C1441.88 323.45 1444.97 319.961 1447.87 316.353L1468.11 291.183L1430.2 275.905C1421.94 272.585 1413.03 269.502 1401.61 267.046C1388.47 265.03 1377.58 263.353 1370.45 262.54C1363.34 261.761 1360 261.863 1362.15 263.997C1344.42 262.032 1341.33 261.202 1341 260.355C1340.74 259.576 1343.38 258.967 1337.82 258.154C1333.69 258.137 1327.63 257.73 1320.87 257.12C1317.49 256.815 1313.95 256.46 1310.36 256.053C1306.73 255.63 1303.78 255.308 1300.17 254.766C1292.99 253.665 1286.29 252.479 1280.74 251.446C1275.21 250.413 1271.14 249.498 1269.7 248.854C1264.76 249.566 1256.56 249.193 1246.91 248.211C1237.26 247.296 1226.13 245.806 1215.39 244.467C1193.9 241.723 1173.88 239.335 1170.09 241.249C1160.84 239.64 1151.6 238.014 1142.36 236.473C1141.31 237.608 1135.45 239.809 1112.68 238.658C1091.45 235.88 1096.75 234.135 1090.39 232.475L1075.58 235.965C1061.53 234.508 1046.96 233.136 1031.99 231.866C1017.04 230.612 1001.57 229.291 985.621 228.292C954.057 226.208 921.49 224.464 888.704 222.431C855.934 220.381 822.975 218.01 790.8 214.639C786.79 214.199 782.78 213.776 778.77 213.335C774.791 212.861 770.812 212.387 766.833 211.912C762.855 211.455 758.923 210.913 754.991 210.388C752.015 209.998 749.038 209.626 746.062 209.236C745.122 209.135 744.182 208.948 743.243 208.914L740.407 209.084L737.572 209.253L736.303 209.321H736.068H735.614C730.695 209.439 726.294 208.965 722.221 207.983C718.132 207.017 714.31 205.527 710.519 203.494L712.43 254.732C718.963 251.412 726.56 248.736 734.784 246.585C745.702 243.028 759.032 240.013 773.961 237.523C788.936 235.033 805.494 233.051 823.32 230.815C825.576 230.527 827.847 230.222 830.118 229.935C832.39 229.63 834.661 229.342 837.042 228.986C839.392 228.647 841.741 228.309 844.107 227.97C846.535 227.58 848.979 227.191 851.406 226.784L857.422 225.802L863.5 224.904L876.908 223.041C886.229 221.703 895.91 220.246 906.327 218.027L910.305 217.129L912.295 216.672L914.378 216.13L918.545 215.029C919.97 214.622 921.474 214.148 922.931 213.691L925.124 212.996C925.86 212.759 926.706 212.437 927.489 212.15C929.087 211.557 930.638 210.981 932.236 210.354C933.99 209.575 935.729 208.779 937.452 207.966L938.737 207.356C939.191 207.119 939.708 206.831 940.193 206.56C941.165 206.001 942.136 205.442 943.091 204.866C941.995 205.594 940.898 206.306 939.77 206.983L938.94 207.492L938.204 207.898L936.732 208.694L933.74 210.252C933.238 210.507 932.706 210.778 932.251 210.998L930.889 211.607L932.596 210.964L934.476 210.134C935.729 209.575 936.966 209.016 938.204 208.423C939.347 207.932 940.898 207.017 942.261 206.238C943.655 205.425 945.034 204.595 946.381 203.748L1008.16 164.689L929.51 151.85C917.417 149.868 907.078 148.953 898.854 147.683C894.75 147.056 891.21 146.379 888.438 145.65C885.634 144.922 883.644 144.143 882.36 143.482C884.396 144.787 888.672 146.362 894.938 147.649C901.235 148.953 909.083 150.02 918.2 151.392C909.867 150.698 903.523 150.461 897.852 149.987C892.37 149.512 887.545 148.869 884.005 147.734C882.579 147.259 881.53 146.717 880.464 146.226L881.671 194.077C885.117 192.586 889.033 191.248 893.795 189.994C898.541 188.741 904.118 187.589 910.619 186.353C917.104 185.099 924.529 183.761 932.706 181.881C940.883 180.001 949.858 177.511 958.975 173.971L1016.7 151.477L962.75 123.14C961.889 122.682 961.012 122.242 960.119 121.801C959.226 121.361 958.302 120.921 957.55 120.616C955.968 119.955 954.245 119.244 952.835 118.77L950.61 118.007C949.874 117.753 949.232 117.584 948.527 117.364L946.459 116.754L944.532 116.246C939.395 114.942 934.867 114.145 930.544 113.502C921.929 112.248 914.237 111.689 906.703 111.266C899.215 110.876 891.962 110.707 885.054 110.588C881.764 110.538 878.475 110.47 875.17 110.419C873.682 110.385 872.162 110.351 871.034 110.284L870.235 110.25L869.609 110.216H869.311V110.199L869.295 110.402L869.201 111.249L868.998 112.943L868.528 116.313C868.183 118.549 867.776 120.802 867.306 123.038L865.771 109.945C832.39 108.657 798.351 107.912 765.283 107.895C734.611 109.725 724.508 108.403 714.717 106.879C704.927 105.371 695.466 103.678 666.173 104.999C671.186 104.626 673.065 103.932 677.577 103.508C661.818 103.644 647.861 103.779 634.812 103.898C628.374 103.983 622.155 104.05 616.046 104.118C610 104.254 604.157 104.203 598.298 104.169C586.252 104.118 574.206 104.084 561.267 104.033C548.25 104.033 534.34 103.999 518.628 103.983C526.21 99.2737 477.853 102.102 483.665 99.6972L478.276 101.493C464.444 99.5278 431.643 97.3258 436.483 96.1063L408.6 97.1734L406.392 94.9376C401.818 94.6835 396.585 94.4125 390.899 94.0907C385.072 93.8027 378.759 93.4809 372.18 93.1591C368.703 92.9897 365.162 92.8203 361.575 92.6509C357.91 92.6509 354.197 92.6509 350.469 92.6509C343.874 92.6509 337.358 92.6001 331.092 92.4307C318.56 92.1089 307.125 91.2281 298.102 89.8053C289.064 88.4164 282.563 86.4685 279.195 84.7069L273.07 119.43C273.399 119.735 273.556 119.887 273.713 120.04C274.59 120.921 275.248 121.835 275.874 122.885C276.83 124.139 277.676 125.426 278.396 126.764L278.913 127.781L279.148 128.289C279.226 128.458 279.383 128.695 279.493 128.882C279.963 129.712 280.417 130.542 280.84 131.372C281.686 133.048 282.453 134.759 283.127 136.487C284.02 138.435 284.944 140.518 285.743 142.568L286.338 144.109C286.479 144.482 286.416 144.346 286.432 144.363C286.432 144.363 286.354 144.363 286.432 144.346L286.949 144.16C287.983 143.855 289.957 143.448 292.056 143.093C296.332 142.347 301.611 141.704 307.094 141.145C312.608 140.586 318.466 140.112 324.497 139.705C327.52 139.502 330.591 139.316 333.692 139.146C335.243 139.061 336.794 138.994 338.36 138.909C340.052 138.841 341.775 138.757 343.483 138.689C343.952 138.672 344.438 138.655 344.939 138.638C355.638 137.893 366.65 137.114 377.882 136.317C388.972 135.589 400.298 134.844 411.78 134.099C434.744 132.642 458.351 131.219 482.051 129.847C529.484 127.306 577.182 124.766 620.636 122.445C636.551 119.752 669.932 117.567 695.967 115.771L724.022 116.585C750.433 114.179 778.3 109.267 803.081 109.369C802.956 109.674 801.969 109.945 800.246 110.199C827.095 108.031 852.816 107.811 877.754 103.983C907.219 102.34 935.979 102.018 927.176 104.88C928.476 102.712 943.937 101.933 959.508 101.73C967.246 101.594 974.906 101.713 980.655 101.662C986.404 101.662 990.21 101.662 990.21 101.662C990.21 101.662 1029.25 99.206 1096.43 94.9714C1130.1 92.8203 1170.89 90.1949 1217.55 86.5701C1229.22 85.6555 1241.25 84.673 1253.63 83.6059C1259.81 83.0639 1266.09 82.505 1272.44 81.946C1278.56 81.3701 1284.75 80.7942 1291.03 80.2014C1292.58 80.0489 1294.13 79.9134 1295.69 79.761C1297.19 79.6424 1298.54 79.5916 1299.96 79.49C1303.41 79.2698 1307.09 78.9818 1310.71 78.6939C1318.01 78.0672 1325.53 77.288 1333.23 76.2209C1348.63 74.0867 1364.92 70.9532 1381.78 65.533L1513 23.2384L1374.7 0.405804C1358.33 -2.3043 1341.68 -4.31994 1324.96 -5.57336C1308.28 -6.74209 1291.49 -7.40268 1274.71 -7.57206C1257.98 -7.70757 1241.2 -7.52125 1224.49 -7.13167C1208.07 -6.69128 1191.42 -6.25089 1174.58 -5.79356C1170.46 -5.69193 1166.33 -5.60724 1162.19 -5.50561C1158.09 -5.43786 1153.98 -5.3701 1149.86 -5.30235C1145.73 -5.21766 1141.69 -5.2346 1137.6 -5.20072C1135.56 -5.20072 1133.51 -5.18378 1131.47 -5.16685L1125.58 -5.2346C1117.97 -5.20072 1109.34 -5.65805 1100.93 -5.97988C1096.7 -6.14926 1092.47 -6.31864 1088.24 -6.48802C1083.95 -6.69128 1079.64 -6.8776 1075.32 -7.08086C1040.73 -8.63917 1005.48 -10.6209 969.768 -12.789C898.353 -17.0913 825.074 -22.1897 751.341 -26.1193C714.482 -28.0842 677.514 -29.761 640.655 -30.9298C631.429 -31.1838 622.234 -31.421 613.039 -31.675C603.922 -31.8614 594.821 -32.0646 585.735 -32.2509C576.666 -32.4373 567.611 -32.6066 558.589 -32.793C549.55 -32.9285 540.543 -33.064 531.567 -33.1995C459.698 -34.2327 389.474 -34.3005 322.617 -33.1995C255.761 -32.1154 192.257 -29.8288 133.875 -26.5936C75.4929 -23.4262 22.2333 -18.9037 -24.2121 -14.2118C-35.8039 -12.9415 -46.9884 -11.7219 -57.7343 -10.5362C-63.1073 -9.96034 -68.3549 -9.29975 -73.4929 -8.63916C-78.6309 -7.97858 -83.6436 -7.31799 -88.5466 -6.69128C-98.3526 -5.40398 -107.673 -4.15056 -116.508 -2.91407C-125.327 -1.55902 -133.645 -0.25478 -141.43 1.01558C-147.492 2.67552 -159.1 4.69115 -167.465 6.45272C-175.83 8.33286 -180.968 9.87422 -174.185 10.3485C-200.548 14.1765 -213.378 11.9745 -218.14 14.6C-181.876 11.8052 -228.306 21.1889 -192.685 19.6814L-215.148 22.7811C-219.502 24.7628 -184.79 17.5811 -189.849 20.8671L-184.163 16.3107C-174.952 15.5654 -167.841 15.0234 -162.154 14.9049C-156.484 14.7693 -152.286 14.8879 -148.965 15.2097C-132 12.0254 -121.771 5.45337 -80.2287 4.21688L-91.5855 5.45337C-58.0476 2.37063 -70.7203 6.13089 -63.6399 6.14783L-71.0649 6.77454C-61.5722 6.53741 -52.0638 6.57129 -42.5554 6.4866C-47.944 6.57129 -54.1785 6.9778 -60.2094 7.53676C-66.2402 8.11266 -72.0361 8.92569 -76.5945 9.62015C-85.7113 11.026 -89.7997 12.1101 -80.5733 11.1785C-40.519 8.75631 -91.0372 11.1276 -61.1492 8.07878C-42.5554 6.4866 -47.5367 8.92569 -48.2259 10.196L-14.8447 7.53676C-15.8003 9.41689 -36.9631 9.09506 -23.2253 9.94197C-9.28378 8.1804 4.72034 6.79148 18.7088 5.23317C22.8442 7.28268 34.2481 5.9107 47.093 4.67422C59.938 3.43773 74.2241 2.08268 84.0144 3.72568C53.7818 6.35109 86.8497 5.1146 82.1347 6.82536C94.494 6.08008 106.885 5.63969 119.26 5.06379C131.635 4.52177 144.01 3.91199 156.4 3.53936C163.465 3.96281 136.929 5.555 148.208 4.96216C162.275 5.77519 171.125 3.14978 178.675 2.94653C185.176 3.86119 234.159 1.54065 232.217 4.58952C238.53 4.70809 243.574 4.72503 247.694 4.67422C251.813 4.67422 254.993 4.55565 257.531 4.40321C262.606 4.09832 265.144 3.57323 267.572 3.04815C272.428 1.99799 276.861 0.897003 300.374 1.4729C306.577 3.20059 263.061 2.38757 283.957 3.99669C300.201 3.50548 316.445 3.28528 332.69 2.96346C328.272 3.87812 323.228 5.97845 304.963 5.67356C370.817 6.33415 421.476 9.89116 470.648 12.94C482.944 13.7361 495.147 14.4645 507.475 15.1759C519.803 15.9211 532.256 16.5817 545.054 17.1576C557.852 17.6827 570.995 18.2755 584.701 18.6312C591.547 18.8176 598.549 18.9869 605.708 19.1055C612.851 19.2579 620.135 19.3765 627.622 19.4612C644.383 22.1713 615.435 20.5114 603.342 21.6293C646.749 21.3583 677.154 24.0006 705.93 26.914C734.69 29.8951 761.805 33.2997 798.789 35.4339L800.277 33.7231C851.563 39.7023 908.379 44.157 967.246 47.8834C996.664 49.7635 1026.6 51.3896 1056.53 52.9479C1071.59 53.6932 1086.66 54.4385 1101.65 55.1838C1105.42 55.3701 1109.2 55.5564 1112.96 55.7427C1114.81 55.8613 1116.83 55.8782 1118.79 55.929L1124.69 56.0645L1130.6 56.2L1136.31 56.2678C1140.12 56.3186 1143.91 56.3525 1147.7 56.4033L1133.23 55.2346C1149.99 53.5746 1176.43 52.6938 1195.64 51.3049C1198.6 52.1349 1181.96 55.5395 1215.75 53.8118C1208.79 53.3544 1194.4 53.1173 1198.61 52.118C1219.23 52.4906 1244.21 52.3551 1271.77 53.0157C1275.2 53.1342 1278.66 53.2359 1282.18 53.3544C1283.94 53.4052 1285.71 53.473 1287.49 53.5238C1289.26 53.6085 1291.03 53.7101 1292.82 53.7948C1296.39 53.9811 1300.02 54.1336 1303.64 54.3538C1307.26 54.6079 1310.91 54.8789 1314.59 55.1329C1329.27 56.3355 1344.29 58.0632 1359.24 60.6886L1353.55 8.38367C1344.78 11.1446 1334.78 13.2619 1324.02 14.8202C1318.63 15.5993 1313.06 16.243 1307.31 16.785C1304.44 17.056 1301.53 17.2931 1298.58 17.4964L1294.13 17.8013L1288.84 18.1231C1282.2 18.7329 1275.53 19.3426 1268.82 19.9694C1262.38 20.5283 1255.91 21.1042 1249.43 21.6632C1236.46 22.7641 1223.41 23.8143 1210.34 24.8137C1158.06 28.8111 1105.42 31.9954 1056.66 34.6378C1028.85 36.6704 1000.77 38.7199 972.462 40.7863C944.141 42.4293 915.616 44.0893 886.949 45.7492C829.429 49.0352 771.376 52.3551 713.464 55.658C655.615 58.9101 597.891 62.1623 540.935 65.3636C483.915 68.4463 427.695 71.9186 372.948 75.4587C406.344 73.3076 392.528 78.5923 367.261 79.0835C362.546 78.8633 357.925 78.6939 353.383 78.5923C351.111 78.5584 348.871 78.5245 346.631 78.4906C345.519 78.4906 344.407 78.4906 343.295 78.4737H341.634C341.133 78.4737 340.334 78.4737 340.428 78.4568L340.318 78.4229L340.146 78.389C340.146 78.389 339.739 78.389 339.551 78.3721L338.219 78.3382L335.65 78.3043C333.974 78.3043 332.298 78.2874 330.622 78.2704C327.301 78.2704 324.011 78.3213 320.738 78.4059C314.19 78.5753 307.72 78.8971 301.157 79.4053C294.578 79.9134 287.999 80.5571 280.824 81.5734C277.221 82.0815 273.477 82.6913 268.997 83.6229L268.183 83.7923L267.259 83.9955L265.41 84.4359C264.846 84.5714 264.11 84.7578 263.374 84.961L261.212 85.5708C260.429 85.8079 259.426 86.1297 258.549 86.4177L257.202 86.875L256.857 86.9936L256.388 87.1799L255.463 87.5525L253.63 88.3148L252.722 88.7213C252.409 88.8568 252.174 88.9584 251.641 89.2294C249.793 90.1441 247.991 91.1604 246.299 92.2444L185.599 131.168L260.413 145.125C276.955 148.208 293.09 149.58 309.193 150.579C317.244 151.071 325.312 151.46 333.426 151.867C337.436 152.087 341.509 152.29 345.644 152.51C347.681 152.629 349.717 152.747 351.785 152.883C352.803 152.951 353.837 153.018 354.871 153.086C355.67 153.154 356.469 153.222 357.267 153.289C358.051 153.289 358.771 153.222 359.617 153.239L362.358 153.34C364.175 153.408 365.993 153.493 367.81 153.56C371.6 153.713 375.391 153.882 379.167 154.035C387.061 154.407 394.894 154.78 402.695 155.153C418.297 155.949 433.711 156.813 448.999 157.71C479.561 159.506 509.59 161.42 539.399 163.063C554.296 163.893 569.146 164.655 583.981 165.316C591.281 165.637 599.113 165.942 606.695 166.213L629.236 166.518C658.67 166.806 688.088 166.671 717.819 165.858L720.043 168.026C737.713 169.381 742.569 168.026 761.163 168.246L760.693 168.822C794.983 170.261 834.927 170.261 862.513 171.21L858.487 170.888C859.067 170.956 859.646 171.007 860.226 171.075L861.839 171.227C862.701 171.295 863.547 171.346 864.377 171.396C865.097 171.43 865.802 171.464 866.507 171.515C867.134 171.532 867.745 171.566 868.356 171.583C870.517 171.65 872.585 171.718 874.574 171.769C878.271 171.871 881.357 171.972 884.083 172.108L885.696 169.736C892.056 169.753 895.784 169.94 898.447 170.16C901.079 170.38 902.583 170.651 904.071 170.871C905.559 171.108 907.078 171.295 909.538 171.464C910.728 171.532 912.169 171.617 913.971 171.718C915.725 171.803 917.73 171.921 919.861 172.057L919.125 173.158L923.683 173.327C924.012 173.327 924.043 173.327 924.231 173.31C924.325 173.31 924.388 173.293 924.372 173.26V173.226L925.218 171.667L926.095 170.126C926.33 169.669 926.565 169.211 926.816 168.771C927.317 167.873 927.865 166.975 928.476 166.112L928.931 165.451C929.072 165.231 929.166 165.061 929.291 164.875C929.526 164.503 929.776 164.13 930.027 163.757C930.544 163.029 931.108 162.301 931.734 161.606L926.941 121.327C924.497 122.598 921.96 123.902 918.984 125.087C919.015 124.664 918.576 124.444 917.762 124.41C917.354 124.393 916.853 124.41 916.258 124.478C915.631 124.528 914.895 124.63 914.081 124.766C910.869 125.308 905.998 126.324 899.324 127.73C897.617 128.102 895.831 128.475 894.014 128.865C892.087 129.288 890.098 129.729 888.077 130.186C883.848 131.168 879.368 132.235 874.543 133.607C864.956 136.267 854.383 140.01 845.125 144.617L790.189 171.921L846.441 196.837C853.944 200.157 860.837 202.19 866.429 203.63C867.87 204.036 869.139 204.29 870.423 204.612C871.708 204.934 872.898 205.205 873.979 205.442C876.141 205.933 878.052 206.374 879.697 206.746C891.915 208.525 905.308 209.084 916.227 210.405L906.483 165.18C904.384 163.385 902.551 161.42 900.985 159.353L900.421 158.574L899.967 157.897L899.857 157.947C899.857 157.947 899.716 158.015 899.638 158.066C899.575 158.117 899.497 158.168 899.434 158.235C899.34 158.303 899.058 158.388 898.886 158.473C898.479 158.642 898.118 158.811 897.68 159.015C897.1 159.218 896.505 159.421 895.91 159.624C895.596 159.726 895.361 159.845 894.985 159.946L893.889 160.268C893.153 160.488 892.417 160.708 891.665 160.929C890.834 161.132 889.989 161.352 889.143 161.572C888.328 161.792 887.419 161.996 886.479 162.199C885.555 162.402 884.631 162.605 883.707 162.809C881.718 163.181 879.806 163.605 877.707 163.96C873.588 164.706 869.17 165.4 864.627 166.078C859.834 166.738 855.009 167.416 850.2 168.093C847.584 168.466 845.031 168.805 842.023 169.296C839.736 169.652 837.465 169.99 835.194 170.329C826.641 171.583 817.665 172.548 808.674 173.361C806.293 173.09 800.559 173.293 792.57 173.835C784.534 174.411 774.149 175.343 762.416 176.783C750.652 178.273 737.541 180.323 724.32 183.236C711.13 186.082 697.753 190.13 686.036 194.805C684.798 195.347 683.561 195.889 682.276 196.431C681.634 196.719 680.992 196.99 680.318 197.295C679.66 197.6 678.987 197.955 678.282 198.311C675.509 199.717 672.454 201.292 668.883 203.189L616.767 230.731L670.888 257.12C682.621 262.845 696.813 267.436 711.992 269.536C719.573 270.586 727.327 271.026 735.003 270.908C736.93 270.908 738.825 270.789 740.736 270.722H741.097C741.097 270.722 741.316 270.688 741.018 270.722C740.031 270.755 740.627 270.722 740.454 270.739H740.501H740.58C740.58 270.739 740.689 270.705 740.752 270.705C740.877 270.705 740.987 270.739 741.003 270.705C741.034 270.705 740.956 270.705 741.081 270.705L741.598 270.772L742.647 270.891L744.746 271.128C767.194 273.737 790.832 275.955 814.971 277.853C863.249 281.647 913.438 284.103 960.322 286.847L958.74 284.035L984.587 285.187C984.164 285.763 987.579 286.254 983.694 286.339C993.469 288.354 1008.24 289.066 1023.34 289.591C1038.41 290.133 1053.54 290.539 1063.82 292.165C1051.02 288.879 1045.77 290.624 1031.03 289.642C1009.9 287.05 1030.47 285.644 1058.95 288.812L1058.32 289.37L1077.96 289.218C1079.94 291.471 1097.51 293.656 1099.53 295.926C1141.86 298.636 1177.29 300.55 1212.85 303.311C1230.63 304.716 1248.46 306.275 1267.1 308.46C1271.72 308.968 1276.59 309.578 1281.51 310.204C1286.46 310.831 1291.24 311.509 1296.99 312.101C1302.15 312.677 1307.42 313.253 1312.78 313.846C1318.02 314.439 1323.29 315.049 1328.6 315.692C1323.99 316.387 1339.47 317.86 1352.94 319.842C1366.47 321.824 1378.02 324.432 1369.83 324.991C1375.5 325.855 1379.63 326.499 1382.56 326.956C1385.49 327.363 1387.14 327.617 1388.06 327.6C1389.86 327.6 1388.42 326.77 1386.24 325.703C1381.82 323.653 1374.15 320.774 1384.9 321.638C1392.52 323.382 1400.12 325.144 1405.12 326.77L1389 289.862C1388.83 290.048 1388.69 290.217 1388.55 290.37C1388.4 290.556 1388.28 290.522 1388.15 290.573C1387.9 290.692 1387.68 290.556 1387.4 290.353C1387.21 290.2 1386.96 290.014 1386.67 289.845C1386.6 289.811 1386.54 289.76 1386.45 289.692L1386.34 289.608C1386.45 289.692 1386.57 289.777 1386.7 289.862C1387.2 290.2 1387.81 290.709 1388.25 291.047C1388.64 291.318 1388.98 291.623 1389.23 291.843C1389.48 292.064 1389.63 292.199 1389.63 292.216C1389.63 292.216 1389.45 292.047 1389.05 291.691C1388.84 291.522 1388.58 291.301 1388.23 291.064C1387.86 290.776 1387.24 290.251 1386.59 289.794C1386.92 290.031 1387.26 290.268 1387.57 290.539L1388.06 290.929L1388.44 291.2C1388.92 291.556 1389.38 291.962 1389.83 292.402C1390.08 292.673 1390.17 292.724 1390.33 292.877C1390.47 293.012 1390.61 293.165 1390.75 293.317C1390.89 293.47 1391.04 293.639 1391.16 293.808C1391.22 293.876 1391.29 293.944 1391.36 294.028C1391.43 294.113 1391.49 294.198 1391.55 294.299L1391.65 294.452C1391.65 294.452 1391.65 294.452 1391.66 294.469C1391.66 294.469 1391.69 294.503 1391.71 294.554C1391.66 294.486 1391.57 294.266 1391.54 294.164C1391.54 294.13 1391.36 293.724 1391.29 293.419C1391.19 292.995 1390.86 291.776 1390.88 290.912C1390.68 289.523 1390.78 288.507 1390.83 286.711C1390.85 286.423 1390.85 286.508 1390.85 286.508C1390.85 286.508 1390.85 286.542 1390.79 286.525C1390.71 286.525 1390.63 286.508 1390.55 286.525C1390.49 286.542 1390.27 286.474 1390.13 286.457H1389.89L1389.83 286.423C1389.77 286.423 1389.88 286.457 1389.67 286.389L1388.81 286.152C1387.53 285.695 1387.32 285.526 1387.84 285.576C1388.11 285.593 1388.55 285.678 1389.12 285.78C1389.27 285.813 1389.42 285.83 1389.58 285.864C1389.72 285.881 1389.99 285.966 1389.95 285.932C1390 285.915 1390.06 285.898 1390.13 285.864C1390.24 285.83 1390.36 285.797 1390.49 285.763L1390.68 285.729L1390.77 285.644C1390.77 285.644 1390.88 285.559 1390.93 285.542C1390.96 285.542 1390.97 285.526 1390.96 285.492C1390.96 285.407 1390.93 285.627 1390.91 285.746C1390.89 285.881 1390.88 286.017 1390.86 286.152L1390.93 285.661L1390.96 285.458C1390.96 285.458 1390.93 285.475 1390.91 285.492C1390.86 285.492 1390.82 285.492 1390.75 285.526C1390.66 285.576 1390.33 285.492 1390.11 285.526C1387.4 284.848 1382.8 283.527 1378.77 282.358C1372.02 282.934 1365.35 283.493 1358.75 284.069C1354.94 284.391 1351.2 284.746 1347.46 284.95C1339.97 285.373 1332.65 285.847 1325.39 286C1321.75 286.101 1318.15 286.186 1314.58 286.288C1311.01 286.372 1307.42 286.355 1303.88 286.389C1300.34 286.389 1296.8 286.423 1293.29 286.44C1289.76 286.406 1286.26 286.372 1282.75 286.339C1254.74 286.034 1227.2 285.102 1197.48 285.305C1192.68 286.643 1222.74 286.457 1218.04 287.778C1202 288.134 1190.39 287.965 1181.11 287.541C1171.84 287.152 1164.85 286.457 1158.03 285.814C1144.33 284.458 1131.25 282.985 1100.82 282.612L1113.52 281.156C1103.67 281.393 1096.59 281.85 1087.91 281.867C1083.56 281.867 1078.89 281.748 1073.17 281.46C1067.47 281.172 1060.73 280.63 1052.68 279.902C1047.01 277.175 1080.66 279.14 1096.18 278.75C1090.62 278.462 1082.96 278.124 1074.8 277.836C1070.68 277.7 1066.43 277.565 1062.3 277.446C1060.23 277.395 1058.18 277.344 1056.19 277.294C1054.23 277.277 1052.32 277.243 1050.49 277.226C1035.81 277.107 1026.04 277.446 1034.51 278.852C1007.9 278.649 998.387 276.142 984.101 274.956C983.6 275.532 1008.8 277.497 993.187 278.039C957.142 275.329 901.314 273.313 857.171 271.467C857.61 270.891 854.571 269.858 858.44 269.722C822.756 271.552 826.813 266.301 778.018 265.166L778.049 265.268Z"
                fill={testimonialColour?.value}
              />
            </svg>
          </TextureLayer>
          {testimonialTile?.quoteText && (
            <Quote testimonialColour={testimonialColour}>
              <span className="mark">
                <svg
                  width="34"
                  height="29"
                  viewBox="0 0 34 29"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.9027 4.74111C14.4227 5.22111 10.7747 7.04511 8.75874 10.1171C8.27874 10.9811 7.89474 12.5171 7.60674 14.1491H7.70274C9.81474 14.1491 12.4067 14.5331 13.6547 16.0691C14.7107 17.3171 15.0947 19.4291 14.9027 22.1171C14.7107 24.9971 11.9267 28.1651 7.70274 28.2611C5.59074 28.2611 4.15074 27.3011 2.80674 26.4371C0.982738 25.3811 0.406738 22.6931 0.406738 19.4291C0.406738 16.4531 0.886738 12.9011 1.65474 10.9811C2.13474 9.73311 3.09474 6.46911 6.26274 3.78111C7.41474 2.82111 11.8307 0.421106 13.1747 0.0371049C14.9987 -0.442895 15.7667 3.87711 14.9027 4.74111ZM26.0387 14.1491C28.1507 14.1491 30.7427 14.5331 31.9907 16.0691C33.0467 17.3171 33.4307 19.4291 33.2387 22.1171C33.0467 24.9971 30.2627 28.1651 26.0387 28.2611C23.9267 28.2611 22.4867 27.3011 21.1427 26.4371C19.3187 25.3811 18.7427 22.6931 18.7427 19.4291C18.7427 16.4531 19.2227 12.9011 19.9907 10.9811C20.4707 9.73311 21.4307 6.46911 24.5987 3.78111C25.7507 2.82111 30.1667 0.421106 31.5107 0.0371049C33.3347 -0.442895 34.1027 3.87711 33.2387 4.74111C32.7587 5.22111 29.1107 7.04511 27.0947 10.1171C26.6147 10.9811 26.2307 12.5171 25.9427 14.1491H26.0387Z"
                    fill={
                      contrastBrandPalette[testimonialColour?.label]
                        ?.contrastText
                    }
                  />
                </svg>
              </span>
              <div className="quoteText">
                <RenderPortableText
                  variant={false}
                  value={testimonialTile?.quoteText}
                />
              </div>
              <Footer>
                <Avatar>
                  <Image
                    // pass asset, hotspot, and crop fields
                    crop={testimonialTile?.cite?.image?.crop}
                    hotspot={testimonialTile?.cite?.image?.hotspot}
                    asset={
                      (testimonialTile?.cite?.image?._ref &&
                        urlFor(testimonialTile?.cite?.image)
                          .width(112)
                          .url()) ||
                      testimonialTile?.cite?.image?.asset
                    }
                    width={112}
                    height={112}
                    style={{
                      width: "56px",
                      height: "56px",
                      objectFit: "cover",
                      overflow: "hidden",
                      borderRadius: "999px",
                    }}
                  />
                </Avatar>
                <Details>
                  {testimonialTile?.cite?.citeName && (
                    <Cite>{testimonialTile?.cite?.citeName}</Cite>
                  )}
                  {testimonialTile?.cite?.citeLocation && (
                    <Position variant="overline" component="span">
                      {testimonialTile?.cite?.citeLocation}
                    </Position>
                  )}
                </Details>
              </Footer>
            </Quote>
          )}
        </Tile>
        <RightAsset>
          <Image
            // pass asset, hotspot, and crop fields
            crop={rightAsset?.crop}
            hotspot={rightAsset?.hotspot}
            asset={
              (rightAsset?._ref && urlFor(rightAsset).width(250).url()) ||
              rightAsset?.asset
            }
            width={250}
            height={250}
            style={{
              maxWidth: "100%",
              height: "auto",
            }}
          />
        </RightAsset>
      </Wrapper>
    </ModuleContainer>
  )
}

export const query = graphql`
  fragment TestimonialSectionFragment on SanityTestimonialSection {
    _key
    _type
    testimonialColour {
      label
      value
    }
    backgroundColour {
      label
      value
    }
    verticalSpace {
      bottomPadding
      topPadding
    }
    leftAsset {
      asset {
        _id
        gatsbyImageData
      }
      hotspot {
        x
        y
        width
        height
      }
      crop {
        bottom
        left
        right
        top
      }
    }
    rightAsset {
      asset {
        _id
        gatsbyImageData
      }
      hotspot {
        x
        y
        width
        height
      }
      crop {
        bottom
        left
        right
        top
      }
    }
    testimonialTile {
      quoteText: _rawQuoteText(resolveReferences: { maxDepth: 10 })
      cite {
        citeName
        citeLocation
        image {
          asset {
            _id
            gatsbyImageData
            _key
            _type
          }
          hotspot {
            x
            y
            width
            height
          }
          crop {
            bottom
            left
            right
            top
          }
        }
      }
    }
  }
`
