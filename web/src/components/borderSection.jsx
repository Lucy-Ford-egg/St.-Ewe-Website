import React from "react"
import { graphql } from "gatsby"
import useMediaQuery from "@mui/material/useMediaQuery"
import { styled, useTheme } from '@mui/material/styles';

const Wrapper = styled('span')(({ borderDirection, backgroundColour, joiningColour, mirror }) => ({
    gridColumn: '1/49',
    display: "inline-flex",
    outline: "none",
    border: "none",
    backgroundColor: borderDirection === "Top" ? backgroundColour?.value : joiningColour?.value,
    svg: {
        width: "100%",
        height: '100%',
        outline: "none",
        border: "none",
        transform: borderDirection === "Top" && !mirror ? `scaleX(-1) rotate(180deg)` : (borderDirection === "Top" && mirror) ? `scale(-1)` : "unset",
        path: {
            fill: borderDirection === "Top" ? joiningColour?.value : backgroundColour?.value
        }
    },
    position: "relative",
    "&:before": {
        position: "absolute",
        content: "''",
        width: "100%",
        height: "2px",
        backgroundColor: borderDirection === "Top" ? backgroundColour?.value : joiningColour?.value,
        inset: 0,
        bottom: borderDirection === "Top" ? "-1px" : "unset",
        top: borderDirection !== "Top" ? "-1px" : "unset",
    },
    "&:after": {
        position: "absolute",
        content: "''",
        width: "100%",
        height: "2px",
        backgroundColor: borderDirection === "Top" ? joiningColour?.value : backgroundColour?.value,
        inset: 0,
        top: borderDirection === "Top" ? "-1px" : "unset",
        bottom: borderDirection !== "Top" ? "-1px" : "unset",
    },
}));

export const BorderSection = (props) => {

    const { borderType } = props
    const theme = useTheme()
    const mobile = useMediaQuery(theme.breakpoints.down("md"))

    const vector = {
        "Type 2": {
            "mobile": <svg width="390" height="17" viewBox="0 0 390 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M34.7275 7.09879L-1.43051e-05 13.8085V16.8448H390V16.2624C389.753 15.874 388.375 15.5903 388.375 15.5903C388.375 15.5903 384.629 14.9818 383.712 14.5234C382.76 14.2801 381.701 14.0299 380.545 13.7864C379.39 13.5342 378.132 13.2916 376.787 13.043C374.097 12.5526 371.044 12.0679 367.696 11.6066C361.005 10.6811 353.143 9.8644 344.729 9.10313C327.899 7.57313 308.321 6.16158 289.657 5.07179C270.993 3.97827 253.252 3.20239 240.171 2.75658C236.906 2.62849 233.92 2.55469 231.294 2.47314C228.665 2.39654 226.39 2.33078 224.522 2.27748C223.588 2.25268 222.755 2.22863 222.034 2.2086C221.31 2.19189 220.699 2.17921 220.201 2.1689C219.209 2.14705 218.683 2.13677 218.683 2.13677C218.683 2.13677 214.076 2.65744 213.252 2.19598C213.258 2.153 213.219 2.10587 213.129 2.05445C213.139 2.1095 213.181 2.15636 213.252 2.19598C213.209 2.49746 210.947 2.59534 208.661 2.53949C206.505 2.07838 204.189 2.24643 201.819 2.09733C201.972 2.12445 202.056 2.16197 202.059 2.21029C199.828 2.41956 197.423 1.83188 195.091 1.6435L192.557 1.99388C191.405 1.94573 190.09 1.90475 188.888 1.83765C187.686 1.7689 186.601 1.67113 185.907 1.51479C180.827 1.48576 175.094 1.42962 169.616 1.37161C166.88 1.33228 164.209 1.27472 161.72 1.18809C160.473 1.13837 159.273 1.09109 158.132 1.04624C156.987 0.995605 155.909 0.935834 154.9 0.865677C154.006 1.21462 151.811 1.30987 149.428 1.31855C148.235 1.32372 146.998 1.30703 145.853 1.28986C145.28 1.28044 144.729 1.2739 144.222 1.26608C143.714 1.26322 143.247 1.26404 142.837 1.26894L142.6 1.61689L140.159 1.20354C140.568 1.44645 137.629 1.53118 136.373 1.74249L135.927 1.40422C136.406 1.84242 132.165 1.00564 132.764 1.83691C131.372 1.71835 130.137 1.62236 128.981 1.53829C127.826 1.45959 126.748 1.40353 125.668 1.34913C123.51 1.24197 121.353 1.16331 118.557 1.05754C118.952 1.13607 119.114 1.25282 119.557 1.32512C116.968 1.04984 116.116 1.30499 115.239 1.53043C114.362 1.75752 113.464 1.94455 110.751 1.58595C106.556 1.49007 102.181 1.58349 98.0113 1.75687C93.8373 1.94553 89.8476 2.23645 86.4209 2.51242C85.1 2.56974 84.0199 2.47445 82.6425 2.44302C84.1539 2.27238 85.6715 2.09552 87.1807 1.93521C86.1404 2.0026 85.0938 2.07662 84.0492 2.15228C83.0026 2.22795 81.9601 2.297 80.9093 2.38092L81.6231 2.44225C75.3056 2.81284 68.3768 2.87836 62.8276 3.16692C58.4212 3.75226 53.6653 4.28628 48.8634 4.905C44.0677 5.52248 39.2259 6.22963 34.7275 7.09879Z" fill="#006D69"/>
            </svg>,
            "desktop": <svg width="1440" height="59" viewBox="0 0 1440 59" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M128.224 23.0146L0 47.7889V59H1440V56.8495C1439.09 55.4154 1434 54.3678 1434 54.3678C1434 54.3678 1420.17 52.1211 1416.78 50.4283C1413.27 49.53 1409.36 48.6064 1405.09 47.7073C1400.82 46.7761 1396.18 45.8804 1391.22 44.9625C1381.28 43.1519 1370.01 41.362 1357.65 39.6586C1332.94 36.2415 1303.91 33.2261 1272.85 30.4152C1210.71 24.766 1138.41 19.5541 1069.5 15.5303C1000.59 11.4927 935.084 8.62788 886.785 6.98178C874.728 6.50887 863.703 6.23635 854.008 5.93524C844.303 5.65242 835.903 5.40962 829.004 5.21281C825.556 5.12124 822.479 5.03242 819.816 4.95849C817.146 4.89679 814.89 4.84997 813.05 4.8119C809.386 4.73121 807.447 4.69326 807.447 4.69326C807.447 4.69326 790.435 6.61573 787.393 4.91189C787.415 4.75318 787.272 4.57918 786.938 4.38932C786.973 4.59259 787.132 4.76561 787.393 4.91189C787.234 6.02504 778.88 6.38645 770.44 6.18023C762.481 4.47768 753.93 5.09817 745.178 4.54765C745.743 4.64779 746.051 4.7863 746.065 4.96472C737.828 5.73742 728.947 3.5675 720.336 2.87198L710.982 4.16567C706.726 3.98789 701.872 3.83658 697.432 3.58884C692.994 3.33498 688.988 2.97397 686.426 2.39672C667.67 2.28952 646.501 2.08227 626.275 1.86807C616.173 1.72284 606.311 1.51031 597.121 1.19043C592.514 1.00687 588.086 0.832287 583.873 0.66668C579.645 0.479734 575.665 0.259042 571.94 0C568.639 1.28839 560.532 1.6401 551.736 1.67214C547.33 1.69123 542.763 1.62963 538.535 1.56621C536.417 1.53145 534.384 1.5073 532.514 1.47842C530.636 1.46785 528.912 1.47087 527.397 1.48896L526.524 2.77373L517.512 1.2475C519.019 2.14439 508.167 2.45726 503.53 3.23748L501.884 1.98848C503.654 3.60643 487.995 0.516796 490.205 3.58608C485.065 3.14833 480.505 2.79392 476.239 2.48351C471.973 2.19291 467.992 1.98592 464.004 1.78504C456.035 1.38939 448.074 1.09895 437.748 0.708402C439.209 0.998388 439.804 1.42945 441.443 1.69642C431.882 0.679972 428.736 1.62208 425.498 2.45446C422.259 3.29294 418.944 3.98355 408.927 2.65947C393.438 2.30543 377.284 2.6504 361.888 3.29054C346.476 3.98713 331.745 5.06131 319.093 6.08028C314.216 6.29193 310.227 5.94008 305.142 5.82404C310.722 5.19396 316.326 4.54097 321.898 3.94903C318.057 4.19788 314.192 4.47119 310.336 4.75054C306.471 5.02993 302.622 5.28489 298.742 5.59476L301.378 5.82121C278.052 7.18954 252.468 7.43143 231.979 8.49689C215.709 10.6582 198.149 12.6299 180.419 14.9144C162.711 17.1943 144.834 19.8054 128.224 23.0146Z" fill="#006D69"/>
            </svg>   
        },
        "Type 3": {
            "mobile": <svg width="390" height="22" viewBox="0 0 390 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.94818 11.4847C6.09769 12.2595 2.94342 12.321 0 12.321V21.9375H390C390 19.0617 388.778 17.9684 386.858 15.8981C386.224 15.2143 384.034 15.2731 383.113 14.969C380.178 14.0003 377.327 12.7947 374.416 11.7635C365.918 8.75321 357.762 7.62414 348.527 7.39655C343.904 7.28264 339.309 7.8859 334.702 8.13986C331.538 8.31429 328.37 8.44733 325.201 8.53474C324.74 8.54745 324.219 8.72283 323.819 8.51152C322.961 8.05856 323.011 7.01985 321.657 6.6997C317.548 5.72838 312.863 5.83552 308.662 5.6312C300.25 5.22203 291.841 5.38515 283.426 5.1434C279.423 5.02841 275.736 4.30966 271.814 3.86585C255.691 2.04144 239.468 2.92524 223.227 2.26309C219.291 2.10263 216.741 1.50311 213.248 0.799704C211.457 0.438984 209.379 0.649448 207.618 0.730017C201.626 1.00415 195.638 1.3554 189.646 1.63592C181.453 2.01948 172.559 3.0038 164.335 2.00758C162.886 1.83206 162.095 0.997753 160.791 0.730017C159.45 0.454681 157.354 1.09064 156.09 1.40364C150.124 2.882 144.627 4.11343 138.445 4.65561C136.645 4.81355 139.135 4.93515 137.312 5.14061C135.912 5.29843 125.389 4.82932 124.042 5.14061C121.265 5.78207 116.594 4.65561 118.488 3.79616C113.653 3.04608 109.249 3.0326 105.116 0.520964C103.187 -0.651199 98.6929 0.501709 96.5197 0.637104C88.9704 1.10743 81.4173 1.94393 73.8979 2.70443C61.059 4.00294 48.154 5.02193 35.3403 6.49065C32.3081 6.8382 29.2781 7.2241 26.2413 7.53592C25.725 7.58894 25.1011 7.82069 24.6829 7.53592C24.0744 7.12157 24.0266 6.88553 23.0994 6.88553C18.2798 6.88553 13.504 10.2465 8.94818 11.4847Z" fill="#006D69"/>
            </svg>,
            "desktop": <svg width="1440" height="81" viewBox="0 0 1440 81" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M33.0394 42.4052C22.5145 45.2659 10.868 45.4928 0 45.4928V81H1440C1440 70.3816 1435.49 66.3449 1428.4 58.7008C1426.06 56.1759 1417.97 56.3928 1414.57 55.2701C1403.73 51.6934 1393.21 47.2419 1382.46 43.4344C1351.08 32.3195 1320.97 28.1507 1286.87 27.3104C1269.8 26.8897 1252.83 29.1172 1235.82 30.0549C1224.14 30.6989 1212.44 31.1902 1200.74 31.5129C1199.04 31.5598 1197.12 32.2074 1195.64 31.4271C1192.47 29.7547 1192.66 25.9195 1187.66 24.7374C1172.49 21.1509 1155.19 21.5465 1139.68 20.7921C1108.61 19.2814 1077.57 19.8836 1046.5 18.991C1031.72 18.5664 1018.1 15.9126 1003.62 14.2739C944.09 7.53764 884.189 10.8009 824.223 8.35603C809.691 7.76354 800.273 5.54996 787.378 2.95275C780.765 1.62086 773.092 2.39796 766.589 2.69545C744.464 3.70764 722.356 5.00457 700.232 6.04034C669.982 7.45655 637.139 11.091 606.775 7.41259C601.425 6.76452 598.503 3.68402 593.689 2.69545C588.739 1.67883 580.998 4.02698 576.334 5.18267C554.304 10.6412 534.006 15.188 511.183 17.1899C504.535 17.7731 513.729 18.2221 507 18.9807C501.831 19.5634 462.975 17.8313 458 18.9807C447.748 21.3492 430.5 17.1899 437.494 14.0166C419.643 11.247 403.382 11.1973 388.121 1.92356C380.998 -2.40443 364.405 1.85247 356.38 2.35239C328.506 4.08899 300.618 7.17757 272.854 9.98558C225.449 14.7801 177.799 18.5425 130.487 23.9655C119.292 25.2487 108.104 26.6736 96.8909 27.825C94.9847 28.0207 92.681 28.8764 91.1369 27.825C88.8901 26.295 88.7136 25.4235 85.29 25.4235C67.4945 25.4235 49.861 37.8331 33.0394 42.4052Z" fill="#006D69"/>
            </svg>                   
        },
        "Type 4": {
            "mobile": <svg width="390" height="22" viewBox="0 0 390 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M381.052 11.4654C383.902 12.2389 387.057 12.3003 390 12.3003V21.9006H0C0 19.0296 1.22171 17.9382 3.14191 15.8714C3.77615 15.1887 5.96582 15.2474 6.88708 14.9438C9.82217 13.9768 12.673 12.7732 15.5839 11.7437C24.0815 8.73849 32.2381 7.61132 41.4733 7.38412C46.0959 7.27039 50.6907 7.87264 55.2977 8.12617C58.4621 8.30031 61.6303 8.43313 64.7989 8.52039C65.2596 8.53308 65.7812 8.70817 66.1814 8.4972C67.0391 8.04501 66.9887 7.00805 68.343 6.68844C72.4517 5.71874 77.1373 5.8257 81.338 5.62173C89.7504 5.21325 98.1594 5.37609 106.574 5.13475C110.577 5.01995 114.264 4.30241 118.186 3.85934C134.309 2.038 150.532 2.92031 166.773 2.25928C170.709 2.09908 173.259 1.50058 176.752 0.798346C178.543 0.438232 180.621 0.648344 182.382 0.728777C188.374 1.00245 194.362 1.35311 200.354 1.63316C208.547 2.01608 217.441 2.99874 225.665 2.00419C227.114 1.82897 227.905 0.996065 229.209 0.728777C230.55 0.453903 232.646 1.08879 233.91 1.40127C239.876 2.87715 245.373 4.1065 251.555 4.64777C253.355 4.80546 250.865 4.92685 252.688 5.13196C254.088 5.28952 264.611 4.8212 265.958 5.13196C268.735 5.77234 273.406 4.64777 271.512 3.78977C276.347 3.04095 280.751 3.02749 284.884 0.520075C286.813 -0.65012 291.307 0.500854 293.48 0.636021C301.03 1.10556 308.583 1.94065 316.102 2.69987C328.941 3.9962 341.846 5.01348 354.66 6.47973C357.692 6.8267 360.722 7.21195 363.759 7.52325C364.275 7.57617 364.899 7.80754 365.317 7.52325C365.926 7.1096 365.973 6.87395 366.901 6.87395C371.72 6.87395 376.496 10.2292 381.052 11.4654Z" fill="#006D69"/>
            </svg>,
            "desktop": <svg width="1440" height="82" viewBox="0 0 1440 82" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1406.96 43.2065C1417.49 46.0672 1429.13 46.2941 1440 46.2941V81.8013H0C0 71.1829 4.51099 67.1462 11.601 59.5021C13.9429 56.9772 22.0277 57.1941 25.4293 56.0714C36.2665 52.4946 46.7926 48.0432 57.5406 44.2357C88.9164 33.1208 119.033 28.952 153.132 28.1116C170.2 27.691 187.166 29.9185 204.176 30.8561C215.86 31.5002 227.558 31.9914 239.258 32.3142C240.959 32.3611 242.885 33.0087 244.362 32.2284C247.529 30.5559 247.343 26.7207 252.343 25.5386C267.514 21.9522 284.815 22.3478 300.325 21.5934C331.386 20.0826 362.435 20.6849 393.504 19.7923C408.283 19.3677 421.899 16.7139 436.381 15.0752C495.91 8.33891 555.811 11.6022 615.777 9.1573C630.309 8.56481 639.727 6.35123 652.622 3.75402C659.235 2.42213 666.908 3.19923 673.411 3.49672C695.536 4.50891 717.644 5.80584 739.768 6.84161C770.018 8.25782 802.861 11.8922 833.225 8.21386C838.575 7.56579 841.497 4.48529 846.311 3.49672C851.261 2.48009 859.002 4.82825 863.666 5.98394C885.696 11.4425 905.994 15.9893 928.817 17.9912C935.465 18.5744 926.271 19.0234 933 19.782C938.169 20.3647 977.025 18.6326 982 19.782C992.252 22.1505 1009.5 17.9912 1002.51 14.8179C1020.36 12.0483 1036.62 11.9986 1051.88 2.72483C1059 -1.60316 1075.6 2.65374 1083.62 3.15366C1111.49 4.89026 1139.38 7.97884 1167.15 10.7868C1214.55 15.5814 1262.2 19.3438 1309.51 24.7667C1320.71 26.05 1331.9 27.4749 1343.11 28.6262C1345.02 28.822 1347.32 29.6777 1348.86 28.6262C1351.11 27.0963 1351.29 26.2248 1354.71 26.2248C1372.51 26.2248 1390.14 38.6343 1406.96 43.2065Z" fill="#006D69"/>
            </svg>
        },
        "Type 6": {
            "mobile": <svg width="390" height="35" viewBox="0 0 390 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M376.135 17.9196C380.764 18.0308 385.397 18.4645 390 19.2318V34.6196H0V18.4978C1.35279 18.0864 2.73582 17.6527 4.15344 17.219C5.57105 16.7854 7.01893 16.3517 8.50137 15.9736C11.4663 15.1952 14.5522 14.3946 17.7505 13.5606C30.5652 10.4804 45.26 7.51134 61.3681 5.43191C77.4762 3.308 94.9976 1.80681 113.444 1.09513C131.89 0.372333 151.266 0.416813 171.095 1.09513C173.572 1.18409 176.057 1.27305 178.55 1.36201C181.04 1.48433 183.538 1.59553 186.04 1.71785C188.547 1.84017 191.058 1.9736 193.574 2.09592C196.111 2.26272 198.648 2.4184 201.193 2.5852C211.363 3.35248 221.563 4.45335 231.733 5.74326C252.076 8.32309 272.295 11.6702 291.999 14.4947C301.853 15.918 311.577 17.219 321.12 18.2421C322.313 18.3755 323.502 18.4978 324.686 18.6313L328.187 18.9649C330.508 19.1762 332.889 19.4764 334.99 19.4542L336.615 19.4986C337.176 19.4875 337.743 19.4764 338.305 19.4764C339.433 19.4542 340.548 19.4653 341.689 19.4097C342.825 19.3652 343.958 19.3207 345.09 19.2762C346.231 19.2095 347.372 19.1539 348.509 19.0872C353.155 18.787 357.749 18.4978 362.279 18.2087C366.89 17.953 371.519 17.8306 376.135 17.9196Z" fill="#006D69" />
            </svg>,
            "desktop": <svg width="1440" height="52" viewBox="0 0 1440 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1388.81 26.4279C1405.9 26.5973 1423 27.2579 1440 28.4266V51.8657H0V27.3087C4.9949 26.682 10.1015 26.0214 15.3358 25.3608C20.57 24.7002 25.916 24.0397 31.3897 23.4638C42.337 22.2781 53.7311 21.0585 65.5401 19.7882C112.856 15.0963 167.114 10.5738 226.59 7.4064C286.066 4.17122 350.76 1.88457 418.87 0.800529C486.979 -0.300451 558.519 -0.232698 631.735 0.800529C640.879 0.936034 650.055 1.07154 659.263 1.20704C668.455 1.39336 677.679 1.56275 686.919 1.74907C696.174 1.93538 705.446 2.13864 714.734 2.32496C724.101 2.57903 733.469 2.81617 742.868 3.07024C780.418 4.23897 818.079 5.91585 855.628 7.88067C930.743 11.8103 1005.4 16.9087 1078.15 21.211C1114.53 23.3791 1150.44 25.3608 1185.67 26.9191C1190.08 27.1224 1194.47 27.3087 1198.84 27.512L1211.77 28.0201C1220.34 28.3419 1229.13 28.7993 1236.88 28.7654L1242.88 28.8332C1244.96 28.8162 1247.05 28.7993 1249.12 28.7993C1253.29 28.7654 1257.41 28.7823 1261.62 28.6976C1265.76 28.6309 1269.88 28.5641 1274 28.4973L1274.18 28.4944C1278.39 28.3928 1282.6 28.3081 1286.8 28.2064C1303.96 27.7491 1320.92 27.3087 1337.64 26.8683C1354.67 26.4788 1371.76 26.2924 1388.81 26.4279Z" />
            </svg>
        }
    }

    return (
        <Wrapper {...props}>
            {!mobile && vector[borderType]?.desktop}
            {mobile && vector[borderType]?.mobile}
        </Wrapper>
    )
}

export const query = graphql`
  fragment BorderSectionFragment on SanityBorderSection {
    _key
    _type
    borderType
    borderDirection
    mirror
    joiningColour{
        label
        value
      }
      backgroundColour{
        label
        value
      }
  }
`
