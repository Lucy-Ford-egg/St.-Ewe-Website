import React from "react"
import { graphql } from "gatsby"
import { Container, Typography, SvgIcon, Box } from "@mui/material"
import { AnimatedText } from "./animatedText"
import clientTheme from "../gatsby-theme-material-ui-top-layout/theme"

export const TitleSubtitleText = ({ title, subtitle, text, subtitlePosition, titleSize, titleWidth, adornment }) => {

  const ArchiIcon = (props) => {
    return (
      <SvgIcon {...props}>
        <g id="Group_243" data-name="Group 243" transform="translate(0 0)">
          <path id="Path_74" data-name="Path 74" d="M71.032,55.957a4.458,4.458,0,0,1,6.079-1.676,5.455,5.455,0,0,1,.521-.432,5.094,5.094,0,0,0-7.313,2.094A5.5,5.5,0,0,1,71.032,55.957Z" transform="translate(-66.082 -53.062)" fill="#141414" />
          <path id="Path_75" data-name="Path 75" d="M72.371,57.776a5.381,5.381,0,0,0-2.475-1.42,5.106,5.106,0,0,0-8.168-1.979c-.075.068-.153.131-.224.2l-.236.238L58.543,57.56a5.427,5.427,0,0,0-.723-.549,5.442,5.442,0,0,0-3.5-.8c-.134.014-.269.033-.4.057s-.238.053-.356.084a5.381,5.381,0,0,0-2.475,1.42,5.49,5.49,0,0,0-1.512,4.772c.012.076.024.15.039.225s.035.15.055.225.031.143.051.213a5.559,5.559,0,0,0,.4.988c.065.123.138.242.212.361a5.473,5.473,0,0,0,.572.758c.033.037.063.074.1.109s.057.068.088.1l.261.262.69.695.224.225.224.225,1.144,1.151.224-.225.132-.133L54.2,67.5,54.3,67.4l.224-.225-2.314-2.334L54.93,62.1l2.316,2.332.45-.453L55.38,61.648l2.09-2.1.224-.225.409-.412,1.41,1.42.906.912.157.16.157.158.134.135.157.158.026.027-.409.412-.224.225-2.09,2.1-.45.453-.857.863-.45.453-.018.018-1.4,1.41-.224.225-.094.094-.132.133c-.031.031-.057.066-.088.1s-.083.092-.124.139-.069.074-.1.113l-.077.1-.022.029s0,0,0,.006c-.043.055-.085.109-.126.166.037-.051.075-.1.114-.15-.057.074-.11.148-.163.223l-.065.1c-.022.035-.045.07-.065.1-.01.016-.018.033-.028.049-.033.053-.063.1-.094.16-.01.018-.02.035-.028.053l-.041.078c0,.006-.006.01-.008.016l-.039.076c-.024.049-.047.1-.069.15-.012.029-.026.057-.041.086,0,.006-.006.012-.008.018a4.333,4.333,0,0,0-.446,2.782c-.081-.035-.161-.076-.242-.115s-.163-.086-.244-.131-.134-.078-.2-.121c-.079-.051-.155-.109-.232-.164s-.157-.119-.232-.182c-.1-.08-.189-.164-.277-.252a4.546,4.546,0,0,1-.889-5.1l-.45-.453-.028-.029c-.057.109-.1.219-.153.33a4.329,4.329,0,0,0,0,4.118A5.153,5.153,0,0,0,51.3,72.144a5.017,5.017,0,0,0,.8.656c.083.055.171.1.256.154s.175.1.265.148c.073.037.147.07.222.1s.177.078.269.113.179.066.269.094a.458.458,0,0,0,.049.016c.045.145.094.291.151.434h-.006l.051.1A5.1,5.1,0,0,0,54.637,75.5c.022.023.041.047.063.07a5.215,5.215,0,0,0,1.97,1.227,5.18,5.18,0,0,0,1.178.258c.159.014.318.023.476.023a5.166,5.166,0,0,0,.794-.068,5.07,5.07,0,0,0,1.581-.518c.118-.061.232-.133.344-.2l0,0,0,0a5.1,5.1,0,0,0,.657-.5h.028a5.091,5.091,0,0,0,3.385,1.291,5.167,5.167,0,0,0,.794-.068,5.076,5.076,0,0,0,2.829-1.44,5.143,5.143,0,0,0,1.272-2.133,5.171,5.171,0,0,0,2.536-8.111A5.512,5.512,0,0,0,72.371,57.776Zm-2.129.529c0-.094,0-.188-.006-.283,0-.066,0-.131-.01-.2.122.055.24.115.358.182a4.164,4.164,0,0,1,.887.676c.016.016.031.037.049.053a4.219,4.219,0,0,1,.165,5.645q-.079.1-.165.184c-.016.016-.031.037-.047.053l-.224.225L68.3,67.813l-.094-.094-.159-.16-.157-.158-.224-.225-2.09-2.1L68.526,62.1,70.6,64.195a3.894,3.894,0,0,0,.37-.533L68.966,61.64a5.145,5.145,0,0,0,1.262-2.926C70.236,58.577,70.24,58.439,70.242,58.3ZM62.176,68.489l2.316-2.332.633-.637,2.09,2.1.224.225.157.158.157.16.094.094-.635.639L64.9,71.231l-.45.453-2.723,2.741-.094-.094-.157-.16-.157-.158-.224-.225-.946-.953L59,71.683l2.723-2.741,2.09,2.1.45-.453Zm2.949-14.776A4.457,4.457,0,0,1,68.3,55.034a4.52,4.52,0,0,1,.8,1.086l.02.045h0l.022.047c.055.113.108.225.155.34.037.092.067.184.1.279s.053.176.075.266.043.158.057.238.026.168.039.254c0,0,0,.01,0,.014.012.088.024.176.031.264.01.127.016.254.016.383a4.453,4.453,0,0,1-1.1,2.936c-.069.08-.138.162-.214.238l-.224.225-2.949,2.969-.318.32-.132.133-.633.637L61.726,68.04l-.45.453-2.723,2.741L57.92,70.6,55.6,68.266l1.419-1.428,1.3-1.313,2.316,2.332.45-.453L58.779,65.07l2.316-2.332.633-.637,2.316,2.332.132-.133.318-.32-2.092-2.1,2.949-2.969L67.429,61a4.126,4.126,0,0,0,.377-.527l-1.995-2.008a4.133,4.133,0,0,1,2.556-1.006c0-.008,0-.018,0-.029-.014-.08-.035-.156-.053-.234s-.037-.158-.059-.236-.047-.135-.071-.2-.059-.16-.092-.24-.071-.158-.11-.236c-.012-.025-.022-.053-.037-.078-.144.016-.289.035-.431.064a5.479,5.479,0,0,0-1.225.393,5.4,5.4,0,0,0-1.2.74c-.059.049-.114.1-.173.158-.079.072-.161.139-.236.215L64.455,58,61.732,60.74l-.094-.094-.157-.158-.157-.16L61.1,60.1,59,58l2.723-2.741,2.1,2.112a5.425,5.425,0,0,1,.5-.4l-2.141-2.155a4.4,4.4,0,0,1,1.437-.842A4.456,4.456,0,0,1,65.125,53.713ZM54.942,61.185l-.45.453-2.723,2.741a4.193,4.193,0,0,1,.214-5.7,4.131,4.131,0,0,1,1.246-.858,5.172,5.172,0,0,0,.729,3.082l.464-.467a4.555,4.555,0,0,1-.539-2.754c0-.031.008-.064.014-.094a4.135,4.135,0,0,1,.987-.133l.051,0a4.15,4.15,0,0,1,1.962.494,4.1,4.1,0,0,1,.749.52l-.4.4-.224.225ZM57.1,72.857l-.275-.277a4.406,4.406,0,0,1-2.872.316c-.008-.039-.02-.078-.029-.117a4.522,4.522,0,0,1-.049-1.4,4.672,4.672,0,0,1,.23-.992c.012-.035.024-.072.037-.109.028-.076.061-.15.094-.223.01-.02.018-.041.028-.061s.028-.066.045-.1c.031-.064.065-.127.1-.188a.043.043,0,0,1,.008-.012c.031-.055.063-.109.1-.162.043-.07.088-.137.134-.2l.094-.129L56.3,70.767l.727.731.6.6.167.168.287.289.871.877,1.474,1.483.157.158.157.16.134.135.149.15a4.718,4.718,0,0,1-.491.324c-.1.055-.2.107-.3.156s-.222.1-.336.141a4.59,4.59,0,0,1-.955.24,4.435,4.435,0,0,1-1.081.018,4.452,4.452,0,0,1-3.568-2.541c-.045-.092-.088-.184-.124-.279a5.155,5.155,0,0,0,3.143-.522Zm12.149.731q-.07.218-.159.43a4.47,4.47,0,0,1-6.655,1.5l2.943-2.963a5.06,5.06,0,0,0,2.7,1.067A4.173,4.173,0,0,0,68.3,73a4.427,4.427,0,0,1-2.461-.9l2.133-2.147.745-.75a4.643,4.643,0,0,1,.383.6,5.422,5.422,0,0,1,.423,2.108,5.489,5.489,0,0,1-.094,1.006c.024,0,.049-.012.073-.018a4.3,4.3,0,0,1-.208.686Zm3.757-5.1a4.509,4.509,0,0,1-2.829,4.2,5.178,5.178,0,0,0-1.016-3.94l2.945-2.965A4.5,4.5,0,0,1,73.01,68.491Z" transform="translate(-49.497 -53.076)" fill="#141414" />
        </g>
      </SvgIcon>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: { xs: 9 } }}>
      <Container maxWidth="md">
        {subtitlePosition === null && (
          <Typography
            variant="subtitle1"
            color="primary.main"
            align="center"
            sx={{ pb: { xs: 5 } }}
          >
            {subtitle}
          </Typography>
        )}
        <AnimatedText subtitlePosition={subtitlePosition} text={title} titleSize={titleSize ? titleSize : "h2"} titleWidth={titleWidth ? titleWidth : "100%"} />
        {subtitlePosition && (
          <Typography variant="subtitle2" color="primary.main" align="center" sx={{ pb: subtitlePosition !== null ? 8 : 8 }}>
            {subtitle}
          </Typography>
        )}
      </Container>

      <Container maxWidth="sm">
        <Typography align="center" variant="body1">{text}</Typography>
      </Container>

      {adornment &&
        <Container maxWidth="sm" sx={{py: {xs: 8}}}>
          <Box display="flex" justifyContent="center" alignItems="center">
            <Box display="span" sx={{ width: "85px", borderBottom: `1px solid ${clientTheme.palette.secondary.main}`, mx: {xs: 7} }}></Box>
            <ArchiIcon />
            <Box display="span" sx={{ width: "85px", borderBottom: `1px solid ${clientTheme.palette.secondary.main}`, mx: {xs: 7} }}></Box>
          </Box>
        </Container>
      }

    </Container>
  )
}

export const query = graphql`
  fragment TitleSubtitleTextFragment on SanityTitleSubtitleText {
      subtitle
      subtitlePosition
      text
      title
      titleSize
      titleWidth
  }
`
